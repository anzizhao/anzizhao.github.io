webpackJsonp([6,11],{168:function(e,t,o){(function(e){!function(){var t=o(7),a=o(5),r=o(2),n=o(1);e.makeHot=e.hot.data?e.hot.data.makeHot:t(function(){return a.getRootInstances(r)},n)}();try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var o=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return e.concat((0,s.times)((0,s.constant)(o),t-e.length))}var r=function(){function e(e,t){var o=[],a=!0,r=!1,n=void 0;try{for(var l,s=e[Symbol.iterator]();!(a=(l=s.next()).done)&&(o.push(l.value),!t||o.length!==t);a=!0);}catch(i){r=!0,n=i}finally{try{!a&&s["return"]&&s["return"]()}finally{if(r)throw n}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),l=e(n),s=o(96),i=o(51),c=o(52),u={0:"red",1:"cyan",2:"green",3:"orange",4:"magenta",5:"blue",correct:"black",correctColor:"red"},d=l["default"].createClass({displayName:"Peg",onClick:function(e){e.stopPropagation();var t=e.target,o=t.getBoundingClientRect(),a=(o.top,o.left,o.width,o.height,this.props),r=(a.index,a.color,a.isEditable);a.changeColor,r&&this.props.showColorChooser(this.props.index,t)},render:function(){var e=this.props,t=e.color,o=e.isEditable,a="hole",r={};return null!==t&&(r={backgroundColor:u[t],borderColor:u[t]},a="peg"),o&&(r.cursor="pointer"),l["default"].createElement("div",{className:a,style:r,onClick:this.onClick})}}),f=l["default"].createClass({displayName:"ScorePeg",getType:function(e){var t=void 0,o=null;return"correct"===e?(t="small peg",o={backgroundColor:u.correct}):"correctColor"===e?(t="small peg",o={backgroundColor:u.correctColor}):t="small hole",[t,o]},render:function(){var e=this.getType(this.props.value),t=r(e,2),o=t[0],a=t[1];return l["default"].createElement("div",{className:o,style:a})}}),m=l["default"].createClass({displayName:"Scores",convertScore:function(e){if(!e)return[null,null,null,null];var t=e.get("correct",0),o=e.get("correctColor",0);return a((0,s.times)(t,(0,s.constant)("correct")).concat((0,s.times)(o,(0,s.constant)("correctColor"))),4)},render:function(){var e=this.convertScore(this.props.score),t=r(e,4),o=t[0],a=t[1],n=t[2],s=t[3];return l["default"].createElement("div",{className:"score"},l["default"].createElement("div",null,l["default"].createElement(f,{value:o}),l["default"].createElement(f,{value:a})),l["default"].createElement("div",null,l["default"].createElement(f,{value:n}),l["default"].createElement(f,{value:s})))}}),h=l["default"].createClass({displayName:"Row",allPegsSet:function(e){return e.get("pegs").every(function(e){return null!==e})},scoresOrEvaluteButton:function(e,t,o,a){return!t&&a?l["default"].createElement("div",{className:"score"},l["default"].createElement("button",{className:"checkButton",disabled:!(o&&this.allPegsSet(e)),onClick:this.props.score},"Check")):l["default"].createElement(m,{score:e.get("score")})},render:function(){var e=this.props,t=e.row,o=e.isGameOver,a=e.isEditable,r=e.isCurrentRow,n=e.showColorChooser;return l["default"].createElement("div",{className:"row"},l["default"].createElement("div",{className:"holes"},t.get("pegs").map(function(e,t){return l["default"].createElement(d,{key:t,index:t,isEditable:a,color:e,showColorChooser:n})})),this.scoresOrEvaluteButton(t,o,a,r))}}),p=l["default"].createClass({displayName:"ColorChooser",getInitialState:function(){return{isShowing:!1,style:{display:"none"}}},show:function(e){if(this.state.isShowing&&e===this.state.showingForEl)return void this.close();var t=void 0,o=void 0,a=e.getBoundingClientRect();t=window.scrollY+a.top+a.height/2,o=a.right-a.width/2,this.setState({showingForEl:e,isShowing:!0,style:{display:"block",top:t,left:o}})},close:function(){this.setState({style:{display:"none"},isShowing:!1})},colorClick:function(e){this.props.changeColor(e),this.close()},render:function(){var e=this,t=(this.props.changeColor,function(t){return l["default"].createElement("div",{className:"color",onClick:function(){return e.colorClick(t)},style:{backgroundColor:u[t]}})});return l["default"].createElement("div",{id:"colorChooser",style:this.state.style},l["default"].createElement("div",null,t(0),t(1),t(2)),l["default"].createElement("div",null,t(3),t(4),t(5)))}}),g=l["default"].createClass({displayName:"Board",showColorChooser:function(e,t){this.refs.colorChooser.show(t),this.pegIdx=e},render:function(){var e=this,t=this.props,o=t.game,a=t.dispatch,r=this.props.hasOwnProperty("editable")?this.props.editable:!0,n=o.get("rows"),s=o.get("state");if(!n)return l["default"].createElement("div",{id:"board"});var u=n.findIndex(function(e){return!e.get("score")}),d=function(){};return l["default"].createElement("div",{className:"mainPanel"},n.map(function(t,o){return l["default"].createElement(h,{key:o,isGameOver:(0,c.isGameOver)(s),isEditable:r&&!(0,c.isGameOver)(s)&&u===o,isCurrentRow:u===o,row:t,showColorChooser:r?e.showColorChooser:d,score:function(){return r?a((0,i.scoreGuess)(o)):d}})}),l["default"].createElement(p,{ref:"colorChooser",changeColor:function(t){return a((0,i.changeColor)(u,e.pegIdx,t))}}))}});t["default"]=g}).call(this)}finally{!function(){var t=e.hot.data&&e.hot.data.foundReactClasses||!1;if(e.exports&&e.makeHot){var a=o(6);a(e,o(1))&&(t=!0);var r=t;r&&e.hot.accept(function(e){e&&console.error("Cannot not apply hot update to board.jsx: "+e.message)})}e.hot.dispose(function(o){o.makeHot=e.makeHot,o.foundReactClasses=t})}()}}).call(t,o(4)(e))},169:function(e,t,o){(function(e){!function(){var t=o(7),a=o(5),r=o(2),n=o(1);e.makeHot=e.hot.data?e.hot.data.makeHot:t(function(){return a.getRootInstances(r)},n)}();try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(1),r=e(a),n=o(52),l=r["default"].createClass({displayName:"GameOverDialog",render:function(){var e=this.props,t=e.gameState,o=e.newGame,a=this.props.hasOwnProperty("buttonText")?this.props.buttonText:"Play another game",l={msg:{fontSize:24,marginBottom:20},button:{fontSize:18,padding:12}};return r["default"].createElement("div",{id:"dialog"},r["default"].createElement("div",null,r["default"].createElement("div",{style:l.msg},t===n.STATES.WON?"You won!":"You lost!"),r["default"].createElement("button",{style:l.button,onClick:o},a)))}});t["default"]=l}).call(this)}finally{!function(){var t=e.hot.data&&e.hot.data.foundReactClasses||!1;if(e.exports&&e.makeHot){var a=o(6);a(e,o(1))&&(t=!0);var r=t;r&&e.hot.accept(function(e){e&&console.error("Cannot not apply hot update to game-over-dialog.jsx: "+e.message)})}e.hot.dispose(function(o){o.makeHot=e.makeHot,o.foundReactClasses=t})}()}}).call(t,o(4)(e))},560:function(e,t,o){(function(e){!function(){var t=o(7),a=o(5),r=o(2),n=o(1);e.makeHot=e.hot.data?e.hot.data.makeHot:t(function(){return a.getRootInstances(r)},n)}();try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){return{game:e.mastermind.game}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),l=a(n),s=o(31),i=o(28),c=o(168),u=a(c),d=o(169),f=a(d),m=o(51),h=o(52),p=l["default"].createClass({displayName:"PlayGamePage",componentWillMount:function(){},render:function(){var e=this.props,t=e.dispatch,o=e.game,a=o.get("state");return l["default"].createElement("div",null,l["default"].createElement("header",null,l["default"].createElement("div",null,l["default"].createElement(s.Link,{to:"/mastermind/rules"},"Game Rules"))),l["default"].createElement("div",null,l["default"].createElement(u["default"],{game:o,dispatch:t}),(0,h.isGameOver)(a)?l["default"].createElement(f["default"],{gameState:a,newGame:function(){return t((0,m.newGame)())}}):null))}}),g=(0,i.connect)(r)(p);t["default"]=g,e.exports=g}).call(this)}finally{!function(){var t=e.hot.data&&e.hot.data.foundReactClasses||!1;if(e.exports&&e.makeHot){var a=o(6);a(e,o(1))&&(t=!0);var r=t;r&&e.hot.accept(function(e){e&&console.error("Cannot not apply hot update to play-game.jsx: "+e.message)})}e.hot.dispose(function(o){o.makeHot=e.makeHot,o.foundReactClasses=t})}()}}).call(t,o(4)(e))}});
//# sourceMappingURL=6.6bundle.js.map