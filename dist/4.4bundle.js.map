{"version":3,"sources":["webpack:///4.4bundle.js","webpack:///./src/common/mastermind/components/board.jsx","webpack:///./src/common/mastermind/components/game-over-dialog.jsx","webpack:///./src/common/mastermind/pages/replay.jsx"],"names":["webpackJsonp",167,"module","exports","__webpack_require__","ReactHotAPI","RootInstanceProvider","ReactMount","React","makeHot","hot","data","getRootInstances","_interopRequireDefault","obj","__esModule","default","ensureLength","xs","requiredLength","fillValue","arguments","length","undefined","concat","_lodash","times","constant","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","push","value","err","Array","isArray","Object","TypeError","defineProperty","_react","_react2","_actions","_game","colorScheme",0,1,2,3,4,5,"correct","correctColor","Peg","createClass","displayName","onClick","evt","stopPropagation","peg","target","_peg$getBoundingClien","getBoundingClientRect","_props","top","left","width","height","this","props","isEditable","index","color","changeColor","showColorChooser","render","_props2","type","style","backgroundColor","borderColor","cursor","createElement","className","ScorePeg","getType","score","_getType","_getType2","Scores","convertScore","scoresObj","get","_convertScore","_convertScore2","score1","score2","score3","score4","Row","allPegsSet","row","every","scoresOrEvaluteButton","isGameOver","isCurrentRow","disabled","_props3","map","idx","key","ColorChooser","getInitialState","isShowing","display","show","targetEl","state","showingForEl","close","myTop","myLeft","targetRect","window","scrollY","right","setState","colorClick","colIndex","_this","colorBlock","id","Board","pegIdx","pegEl","refs","colorChooser","_this2","_props4","game","dispatch","boardEditable","hasOwnProperty","editable","rows","gameState","currentRowIdx","findIndex","noop","scoreGuess","ref","newColor","call","foundReactClasses","makeExportsHot","shouldAcceptModule","accept","console","error","message","dispose",168,"GameOverDialog","newGame","buttonText","styles","msg","fontSize","marginBottom","button","padding","STATES","WON",562,"mapStateToProps","games","mastermind","replay","_reactRedux","_board","_board2","_gameOverDialog","_gameOverDialog2","toolbarStyles","toolbar","border","position","bottom","textAlign","margin","img","verticalAlign","ReplayAutoPlayToolBar","btnStyle","btnSpeed","speed","merge","speedUpButton","fontWeight","formatMs","ms","s","Math","floor","stop","skip","setSpeed","nextEventIn","nextEventInFormatted","src","alt","title","paddingLeft","fontFamily","ReplayManualToolBar","play","start","prev","end","ReplayPage","manualControl","componentDidMount","replayGame","params","gameId","replayNext","componentWillUnmount","unschedule","switchToAutoplay","switchToManualControl","timeoutHandler","clearTimeout","newSpeed","scheduleNext","getIn","replayMoveToStart","setTimeout","immediate","gameReplayed","atEnd","count","current","delta","Date","getTime","_props5","showGameOverDialog","name","at","first","toLocaleString","replayPrev","replayMoveToEnd","replayHideGameOverDialog","ReplayPageContainer","connect"],"mappings":"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","file":"4.4bundle.js","sourcesContent":["webpackJsonp([4,11],{\n\n/***/ 167:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__(7), RootInstanceProvider = __webpack_require__(5), ReactMount = __webpack_require__(2), React = __webpack_require__(1); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {\n\t\n\t'use strict';\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _lodash = __webpack_require__(96);\n\t\n\tvar _actions = __webpack_require__(51);\n\t\n\tvar _game = __webpack_require__(52);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar colorScheme = {\n\t    0: 'red',\n\t    1: 'cyan',\n\t    2: 'green',\n\t    3: 'orange',\n\t    4: 'magenta',\n\t    5: 'blue',\n\t    'correct': 'black',\n\t    'correctColor': 'red'\n\t};\n\t\n\tvar Peg = _react2.default.createClass({\n\t    displayName: 'Peg',\n\t\n\t    onClick: function onClick(evt) {\n\t        evt.stopPropagation();\n\t        var peg = evt.target;\n\t\n\t        var _peg$getBoundingClien = peg.getBoundingClientRect();\n\t\n\t        var top = _peg$getBoundingClien.top;\n\t        var left = _peg$getBoundingClien.left;\n\t        var width = _peg$getBoundingClien.width;\n\t        var height = _peg$getBoundingClien.height;\n\t        var _props = this.props;\n\t        var index = _props.index;\n\t        var color = _props.color;\n\t        var isEditable = _props.isEditable;\n\t        var changeColor = _props.changeColor;\n\t\n\t        if (!isEditable) {\n\t            return;\n\t        }\n\t        this.props.showColorChooser(this.props.index, peg);\n\t    },\n\t\n\t    render: function render() {\n\t        var _props2 = this.props;\n\t        var color = _props2.color;\n\t        var isEditable = _props2.isEditable;\n\t\n\t        var type = \"hole\";\n\t        var style = {};\n\t\n\t        if (color !== null) {\n\t            style = {\n\t                backgroundColor: colorScheme[color],\n\t                borderColor: colorScheme[color]\n\t            };\n\t            type = \"peg\";\n\t        }\n\t        if (isEditable) {\n\t            style.cursor = 'pointer';\n\t        }\n\t\n\t        return _react2.default.createElement('div', { className: type, style: style, onClick: this.onClick });\n\t    }\n\t});\n\t\n\tvar ScorePeg = _react2.default.createClass({\n\t    displayName: 'ScorePeg',\n\t\n\t    getType: function getType(score) {\n\t        var type = undefined;\n\t        var style = null;\n\t        if (score === 'correct') {\n\t            type = 'small peg';\n\t            style = { backgroundColor: colorScheme['correct'] };\n\t        } else if (score === 'correctColor') {\n\t            type = 'small peg';\n\t            style = { backgroundColor: colorScheme['correctColor'] };\n\t        } else {\n\t            type = 'small hole';\n\t        }\n\t        return [type, style];\n\t    },\n\t\n\t    render: function render() {\n\t        var _getType = this.getType(this.props.value);\n\t\n\t        var _getType2 = _slicedToArray(_getType, 2);\n\t\n\t        var type = _getType2[0];\n\t        var style = _getType2[1];\n\t\n\t        return _react2.default.createElement('div', { className: type, style: style });\n\t    }\n\t});\n\t\n\tvar Scores = _react2.default.createClass({\n\t    displayName: 'Scores',\n\t\n\t    convertScore: function convertScore(scoresObj) {\n\t        if (!scoresObj) {\n\t            return [null, null, null, null];\n\t        }\n\t        var correct = scoresObj.get('correct', 0);\n\t        var correctColor = scoresObj.get('correctColor', 0);\n\t        return ensureLength((0, _lodash.times)(correct, (0, _lodash.constant)('correct')).concat((0, _lodash.times)(correctColor, (0, _lodash.constant)('correctColor'))), 4);\n\t    },\n\t\n\t    render: function render() {\n\t        var _convertScore = this.convertScore(this.props.score);\n\t\n\t        var _convertScore2 = _slicedToArray(_convertScore, 4);\n\t\n\t        var score1 = _convertScore2[0];\n\t        var score2 = _convertScore2[1];\n\t        var score3 = _convertScore2[2];\n\t        var score4 = _convertScore2[3];\n\t\n\t        return _react2.default.createElement(\n\t            'div',\n\t            { className: 'score' },\n\t            _react2.default.createElement(\n\t                'div',\n\t                null,\n\t                _react2.default.createElement(ScorePeg, { value: score1 }),\n\t                _react2.default.createElement(ScorePeg, { value: score2 })\n\t            ),\n\t            _react2.default.createElement(\n\t                'div',\n\t                null,\n\t                _react2.default.createElement(ScorePeg, { value: score3 }),\n\t                _react2.default.createElement(ScorePeg, { value: score4 })\n\t            )\n\t        );\n\t    }\n\t});\n\t\n\tvar Row = _react2.default.createClass({\n\t    displayName: 'Row',\n\t\n\t    allPegsSet: function allPegsSet(row) {\n\t        return row.get('pegs').every(function (peg) {\n\t            return peg !== null;\n\t        });\n\t    },\n\t\n\t    scoresOrEvaluteButton: function scoresOrEvaluteButton(row, isGameOver, isEditable, isCurrentRow) {\n\t        if (!isGameOver && isCurrentRow) {\n\t            return _react2.default.createElement(\n\t                'div',\n\t                { className: 'score' },\n\t                _react2.default.createElement(\n\t                    'button',\n\t                    { className: 'checkButton',\n\t                        disabled: !(isEditable && this.allPegsSet(row)),\n\t                        onClick: this.props.score },\n\t                    'Check'\n\t                )\n\t            );\n\t        }\n\t        return _react2.default.createElement(Scores, { score: row.get('score') });\n\t    },\n\t\n\t    render: function render() {\n\t        var _props3 = this.props;\n\t        var row = _props3.row;\n\t        var isGameOver = _props3.isGameOver;\n\t        var isEditable = _props3.isEditable;\n\t        var isCurrentRow = _props3.isCurrentRow;\n\t        var showColorChooser = _props3.showColorChooser;\n\t\n\t        return _react2.default.createElement(\n\t            'div',\n\t            { className: 'row' },\n\t            _react2.default.createElement(\n\t                'div',\n\t                { className: 'holes' },\n\t                row.get('pegs').map(function (color, idx) {\n\t                    return _react2.default.createElement(Peg, { key: idx, index: idx, isEditable: isEditable, color: color, showColorChooser: showColorChooser });\n\t                })\n\t            ),\n\t            this.scoresOrEvaluteButton(row, isGameOver, isEditable, isCurrentRow)\n\t        );\n\t    }\n\t});\n\t\n\tvar ColorChooser = _react2.default.createClass({\n\t    displayName: 'ColorChooser',\n\t\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            isShowing: false,\n\t            style: {\n\t                display: 'none'\n\t            }\n\t        };\n\t    },\n\t\n\t    show: function show(targetEl) {\n\t        if (this.state.isShowing && targetEl === this.state.showingForEl) {\n\t            this.close();\n\t            return;\n\t        }\n\t        var myTop = undefined,\n\t            myLeft = undefined;\n\t        var targetRect = targetEl.getBoundingClientRect();\n\t        myTop = window.scrollY + targetRect.top + targetRect.height / 2;\n\t        myLeft = targetRect.right - targetRect.width / 2;\n\t        this.setState({\n\t            showingForEl: targetEl,\n\t            isShowing: true,\n\t            style: {\n\t                display: 'block',\n\t                top: myTop,\n\t                left: myLeft\n\t            } });\n\t    },\n\t\n\t    close: function close() {\n\t        this.setState({\n\t            style: {\n\t                display: 'none'\n\t            },\n\t            isShowing: false\n\t        });\n\t    },\n\t\n\t    colorClick: function colorClick(colIndex) {\n\t        this.props.changeColor(colIndex);\n\t        this.close();\n\t    },\n\t\n\t    render: function render() {\n\t        var _this = this;\n\t\n\t        var changeColor = this.props.changeColor;\n\t\n\t        var colorBlock = function colorBlock(colIndex) {\n\t            return _react2.default.createElement('div', { className: 'color',\n\t                onClick: function onClick() {\n\t                    return _this.colorClick(colIndex);\n\t                },\n\t                style: { backgroundColor: colorScheme[colIndex] } });\n\t        };\n\t\n\t        return _react2.default.createElement(\n\t            'div',\n\t            { id: 'colorChooser', style: this.state.style },\n\t            _react2.default.createElement(\n\t                'div',\n\t                null,\n\t                colorBlock(0),\n\t                colorBlock(1),\n\t                colorBlock(2)\n\t            ),\n\t            _react2.default.createElement(\n\t                'div',\n\t                null,\n\t                colorBlock(3),\n\t                colorBlock(4),\n\t                colorBlock(5)\n\t            )\n\t        );\n\t    }\n\t});\n\t\n\tvar Board = _react2.default.createClass({\n\t    displayName: 'Board',\n\t\n\t    showColorChooser: function showColorChooser(pegIdx, pegEl) {\n\t        this.refs.colorChooser.show(pegEl);\n\t        this.pegIdx = pegIdx;\n\t    },\n\t\n\t    render: function render() {\n\t        var _this2 = this;\n\t\n\t        var _props4 = this.props;\n\t        var game = _props4.game;\n\t        var dispatch = _props4.dispatch;\n\t\n\t        var boardEditable = this.props.hasOwnProperty('editable') ? this.props.editable : true;\n\t        var rows = game.get('rows');\n\t        var gameState = game.get('state');\n\t        if (!rows) {\n\t            return _react2.default.createElement('div', { id: 'board' });\n\t        }\n\t\n\t        var currentRowIdx = rows.findIndex(function (row) {\n\t            return !row.get('score');\n\t        });\n\t\n\t        var noop = function noop() {};\n\t\n\t        return _react2.default.createElement(\n\t            'div',\n\t            { className: 'mainPanel' },\n\t            rows.map(function (row, idx) {\n\t                return _react2.default.createElement(Row, { key: idx,\n\t                    isGameOver: (0, _game.isGameOver)(gameState),\n\t                    isEditable: boardEditable && !(0, _game.isGameOver)(gameState) && currentRowIdx === idx,\n\t                    isCurrentRow: currentRowIdx === idx,\n\t                    row: row,\n\t                    showColorChooser: boardEditable ? _this2.showColorChooser : noop,\n\t                    score: function score() {\n\t                        return boardEditable ? dispatch((0, _actions.scoreGuess)(idx)) : noop;\n\t                    } });\n\t            }),\n\t            _react2.default.createElement(ColorChooser, { ref: 'colorChooser',\n\t                changeColor: function changeColor(newColor) {\n\t                    return dispatch((0, _actions.changeColor)(currentRowIdx, _this2.pegIdx, newColor));\n\t                } })\n\t        );\n\t    }\n\t\n\t});\n\t\n\tfunction ensureLength(xs, requiredLength) {\n\t    var fillValue = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];\n\t\n\t    return xs.concat((0, _lodash.times)((0, _lodash.constant)(fillValue), requiredLength - xs.length));\n\t}\n\t\n\texports.default = Board;\n\t\n\t/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__(6); if (makeExportsHot(module, __webpack_require__(1))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error(\"Cannot not apply hot update to \" + \"board.jsx\" + \": \" + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(4)(module)))\n\n/***/ },\n\n/***/ 168:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__(7), RootInstanceProvider = __webpack_require__(5), ReactMount = __webpack_require__(2), React = __webpack_require__(1); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {\n\t\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _game = __webpack_require__(52);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar GameOverDialog = _react2.default.createClass({\n\t  displayName: 'GameOverDialog',\n\t\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var gameState = _props.gameState;\n\t    var newGame = _props.newGame;\n\t\n\t    var buttonText = this.props.hasOwnProperty('buttonText') ? this.props.buttonText : 'Play another game';\n\t\n\t    var styles = {\n\t      msg: {\n\t        fontSize: 24,\n\t        marginBottom: 20\n\t      },\n\t      button: {\n\t        fontSize: 18,\n\t        padding: 12\n\t      }\n\t    };\n\t\n\t    return _react2.default.createElement(\n\t      'div',\n\t      { id: 'dialog' },\n\t      _react2.default.createElement(\n\t        'div',\n\t        null,\n\t        _react2.default.createElement(\n\t          'div',\n\t          { style: styles.msg },\n\t          gameState === _game.STATES.WON ? 'You won!' : 'You lost!'\n\t        ),\n\t        _react2.default.createElement(\n\t          'button',\n\t          { style: styles.button, onClick: newGame },\n\t          buttonText\n\t        )\n\t      )\n\t    );\n\t  }\n\t});\n\t\n\texports.default = GameOverDialog;\n\t\n\t/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__(6); if (makeExportsHot(module, __webpack_require__(1))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error(\"Cannot not apply hot update to \" + \"game-over-dialog.jsx\" + \": \" + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(4)(module)))\n\n/***/ },\n\n/***/ 562:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__(7), RootInstanceProvider = __webpack_require__(5), ReactMount = __webpack_require__(2), React = __webpack_require__(1); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {\n\t\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(28);\n\t\n\tvar _lodash = __webpack_require__(96);\n\t\n\tvar _board = __webpack_require__(167);\n\t\n\tvar _board2 = _interopRequireDefault(_board);\n\t\n\tvar _gameOverDialog = __webpack_require__(168);\n\t\n\tvar _gameOverDialog2 = _interopRequireDefault(_gameOverDialog);\n\t\n\tvar _game = __webpack_require__(52);\n\t\n\tvar _actions = __webpack_require__(51);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar toolbarStyles = {\n\t  toolbar: {\n\t    border: '2px solid #f2f2f2',\n\t    backgroundColor: '#f2f2f2',\n\t    width: 310,\n\t    position: 'fixed',\n\t    bottom: 50,\n\t    textAlign: 'center',\n\t    padding: 5\n\t  },\n\t  button: {\n\t    height: 40,\n\t    padding: 2,\n\t    margin: 4\n\t  },\n\t  img: {\n\t    verticalAlign: 'middle',\n\t    height: 36\n\t  }\n\t};\n\tvar ReplayAutoPlayToolBar = _react2.default.createClass({\n\t  displayName: 'ReplayAutoPlayToolBar',\n\t\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var stop = _props.stop;\n\t    var skip = _props.skip;\n\t    var speed = _props.speed;\n\t    var setSpeed = _props.setSpeed;\n\t    var nextEventIn = _props.nextEventIn;\n\t\n\t    var styles = (0, _lodash.merge)({}, toolbarStyles, {\n\t      speedUpButton: {\n\t        height: 40,\n\t        margin: 1\n\t      }\n\t    });\n\t\n\t    function btnStyle(btnSpeed) {\n\t      if (speed === btnSpeed) {\n\t        return (0, _lodash.merge)({}, styles.speedUpButton, { fontWeight: 'bold' });\n\t      } else {\n\t        return styles.speedUpButton;\n\t      }\n\t    }\n\t\n\t    function formatMs(ms) {\n\t      var s = Math.floor(ms / 1000);\n\t      if (s > 60) {\n\t        return '>1m';\n\t      }\n\t      if (s === 0) {\n\t        s = '<0';\n\t      } else if (s < 10) {\n\t        s = ' ' + s;\n\t      }\n\t      return s + 's';\n\t    }\n\t\n\t    var nextEventInFormatted = formatMs(nextEventIn);\n\t\n\t    return _react2.default.createElement(\n\t      'div',\n\t      { id: 'replayToolbar', style: styles.toolbar },\n\t      _react2.default.createElement(\n\t        'button',\n\t        { style: styles.button, onClick: stop },\n\t        _react2.default.createElement('img', { style: styles.img, src: 'img/ic_stop_black_48dp.png', alt: 'Stop', title: 'Stop' })\n\t      ),\n\t      _react2.default.createElement(\n\t        'span',\n\t        { style: { paddingLeft: 12, fontFamily: 'Courier' } },\n\t        nextEventInFormatted\n\t      ),\n\t      _react2.default.createElement(\n\t        'button',\n\t        { style: styles.button, onClick: skip },\n\t        _react2.default.createElement('img', { style: styles.img, src: 'img/ic_skip_next_black_48dp.png', alt: 'Skip', title: 'Skip' })\n\t      ),\n\t      _react2.default.createElement('span', { style: { paddingLeft: 12 } }),\n\t      _react2.default.createElement(\n\t        'button',\n\t        { style: btnStyle(1), onClick: function onClick() {\n\t            return setSpeed(1);\n\t          } },\n\t        '1x'\n\t      ),\n\t      _react2.default.createElement(\n\t        'button',\n\t        { style: btnStyle(2), onClick: function onClick() {\n\t            return setSpeed(2);\n\t          } },\n\t        '2x'\n\t      ),\n\t      _react2.default.createElement(\n\t        'button',\n\t        { style: btnStyle(4), onClick: function onClick() {\n\t            return setSpeed(4);\n\t          } },\n\t        '4x'\n\t      ),\n\t      _react2.default.createElement(\n\t        'button',\n\t        { style: btnStyle(8), onClick: function onClick() {\n\t            return setSpeed(8);\n\t          } },\n\t        '8x'\n\t      )\n\t    );\n\t  }\n\t});\n\t\n\tvar ReplayManualToolBar = _react2.default.createClass({\n\t  displayName: 'ReplayManualToolBar',\n\t\n\t  render: function render() {\n\t    var _props2 = this.props;\n\t    var play = _props2.play;\n\t    var start = _props2.start;\n\t    var next = _props2.next;\n\t    var prev = _props2.prev;\n\t    var end = _props2.end;\n\t\n\t    var styles = toolbarStyles;\n\t\n\t    return _react2.default.createElement(\n\t      'div',\n\t      { id: 'replayToolbar', style: styles.toolbar },\n\t      _react2.default.createElement(\n\t        'button',\n\t        { style: styles.button, onClick: play },\n\t        _react2.default.createElement('img', { style: styles.img, src: 'img/ic_play_arrow_black_48dp.png', alt: 'Autoplay', title: 'Autoplay' })\n\t      ),\n\t      _react2.default.createElement('span', { style: { paddingLeft: 12 } }),\n\t      _react2.default.createElement(\n\t        'button',\n\t        { style: styles.button, onClick: start },\n\t        _react2.default.createElement('img', { style: styles.img, src: 'img/ic_fast_rewind_black_48dp.png', alt: 'Skip to Start', title: 'Skip to Start' })\n\t      ),\n\t      _react2.default.createElement(\n\t        'button',\n\t        { style: styles.button, onClick: prev },\n\t        _react2.default.createElement('img', { style: styles.img, src: 'img/ic_skip_previous_black_48dp.png', alt: 'Previous', title: 'Previous' })\n\t      ),\n\t      _react2.default.createElement(\n\t        'button',\n\t        { style: styles.button, onClick: next },\n\t        _react2.default.createElement('img', { style: styles.img, src: 'img/ic_skip_next_black_48dp.png', alt: 'Next', title: 'Next' })\n\t      ),\n\t      _react2.default.createElement(\n\t        'button',\n\t        { style: styles.button, onClick: end },\n\t        _react2.default.createElement('img', { style: styles.img, src: 'img/ic_fast_forward_black_48dp.png', alt: 'Skip to the End', title: 'Skip to the End' })\n\t      )\n\t    );\n\t  }\n\t});\n\t\n\tvar ReplayPage = _react2.default.createClass({\n\t  displayName: 'ReplayPage',\n\t\n\t  getInitialState: function getInitialState() {\n\t    return {\n\t      manualControl: true,\n\t      nextEventIn: null,\n\t      speed: 1\n\t    };\n\t  },\n\t\n\t  componentDidMount: function componentDidMount() {\n\t    this.props.dispatch((0, _actions.replayGame)(this.props.params.gameId));\n\t    this.props.dispatch((0, _actions.replayNext)(this.props.params.gameId));\n\t  },\n\t\n\t  componentWillUnmount: function componentWillUnmount() {\n\t    this.unschedule();\n\t  },\n\t\n\t  switchToAutoplay: function switchToAutoplay() {\n\t    this.setState({ manualControl: false });\n\t  },\n\t\n\t  switchToManualControl: function switchToManualControl() {\n\t    this.setState({ manualControl: true });\n\t  },\n\t\n\t  unschedule: function unschedule() {\n\t    if (this.timeoutHandler) {\n\t      clearTimeout(this.timeoutHandler);\n\t    }\n\t  },\n\t\n\t  setSpeed: function setSpeed(newSpeed) {\n\t    this.setState({ speed: newSpeed });\n\t  },\n\t\n\t  skip: function skip() {\n\t    this.unschedule();\n\t    this.scheduleNext(true);\n\t  },\n\t\n\t  stop: function stop() {\n\t    this.unschedule();\n\t    this.switchToManualControl();\n\t  },\n\t\n\t  play: function play() {\n\t    var _this = this;\n\t\n\t    var _props3 = this.props;\n\t    var dispatch = _props3.dispatch;\n\t    var replay = _props3.replay;\n\t\n\t    if ((0, _game.isGameOver)(replay.getIn(['game', 'state']))) {\n\t      this.setState({ speed: 1 });\n\t      dispatch((0, _actions.replayMoveToStart)());\n\t    }\n\t    this.switchToAutoplay();\n\t\n\t    setTimeout(function () {\n\t      return _this.scheduleNext();\n\t    }, 0);\n\t  },\n\t\n\t  scheduleNext: function scheduleNext() {\n\t    var _this2 = this;\n\t\n\t    var immediate = arguments.length <= 0 || arguments[0] === undefined ? false : arguments[0];\n\t    var _props4 = this.props;\n\t    var dispatch = _props4.dispatch;\n\t    var replay = _props4.replay;\n\t\n\t    var gameReplayed = replay.get('gameReplayed');\n\t    var position = replay.get('replayPosition');\n\t\n\t    var atEnd = function atEnd(position, game) {\n\t      return position + 1 === game.get('states').count();\n\t    };\n\t\n\t    if (atEnd(position, gameReplayed)) {\n\t      this.switchToManualControl();\n\t      return;\n\t    }\n\t\n\t    var current = gameReplayed.getIn(['states', position]);\n\t    var next = gameReplayed.getIn(['states', position + 1]);\n\t    var delta = new Date(next.get('at')).getTime() - new Date(current.get('at')).getTime();\n\t\n\t    var nextEventIn = immediate ? 0 : delta / this.state.speed;\n\t    this.setState({ nextEventIn: nextEventIn });\n\t\n\t    this.timeoutHandler = setTimeout(function () {\n\t      dispatch((0, _actions.replayNext)());\n\t      _this2.scheduleNext();\n\t    }, nextEventIn);\n\t  },\n\t\n\t  render: function render() {\n\t    var _props5 = this.props;\n\t    var dispatch = _props5.dispatch;\n\t    var replay = _props5.replay;\n\t\n\t    var gameReplayed = replay.get('gameReplayed');\n\t    var showGameOverDialog = replay.get('showGameOverDialog', true);\n\t    if (!gameReplayed) {\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { style: { textAlign: 'center' }, className: 'mainPanel' },\n\t        _react2.default.createElement(\n\t          'span',\n\t          null,\n\t          'No such game'\n\t        )\n\t      );\n\t    }\n\t    var name = gameReplayed.get('name');\n\t    var at = new Date(gameReplayed.get('states').first().get('at')).toLocaleString();\n\t    var game = replay.get('game');\n\t    var gameState = game.get('state');\n\t\n\t    return _react2.default.createElement(\n\t      'div',\n\t      { className: 'mainPanel' },\n\t      _react2.default.createElement(\n\t        'div',\n\t        { style: { textAlign: 'center' } },\n\t        'Game played by ',\n\t        _react2.default.createElement('br', null),\n\t        _react2.default.createElement(\n\t          'strong',\n\t          null,\n\t          name\n\t        ),\n\t        _react2.default.createElement('br', null),\n\t        ' at ',\n\t        _react2.default.createElement('br', null),\n\t        _react2.default.createElement(\n\t          'em',\n\t          null,\n\t          at\n\t        )\n\t      ),\n\t      this.state.manualControl ? _react2.default.createElement(ReplayManualToolBar, {\n\t        play: this.play,\n\t        start: function start() {\n\t          return dispatch((0, _actions.replayMoveToStart)());\n\t        },\n\t        prev: function prev() {\n\t          return dispatch((0, _actions.replayPrev)());\n\t        },\n\t        next: function next() {\n\t          return dispatch((0, _actions.replayNext)());\n\t        },\n\t        end: function end() {\n\t          return dispatch((0, _actions.replayMoveToEnd)());\n\t        } }) : _react2.default.createElement(ReplayAutoPlayToolBar, {\n\t        skip: this.skip,\n\t        stop: this.stop,\n\t        speed: this.state.speed,\n\t        setSpeed: this.setSpeed,\n\t        nextEventIn: this.state.nextEventIn }),\n\t      _react2.default.createElement(_board2.default, { game: game, editable: false }),\n\t      (0, _game.isGameOver)(gameState) && showGameOverDialog ? _react2.default.createElement(_gameOverDialog2.default, {\n\t        buttonText: 'OK',\n\t        gameState: gameState,\n\t        newGame: function newGame() {\n\t          return dispatch((0, _actions.replayHideGameOverDialog)());\n\t        } }) : null\n\t    );\n\t  }\n\t});\n\t\n\tfunction mapStateToProps(state) {\n\t  return {\n\t    games: state.mastermind.game.get('replayableGames'),\n\t    replay: state.mastermind.replay\n\t  };\n\t}\n\t\n\tvar ReplayPageContainer = (0, _reactRedux.connect)(mapStateToProps)(ReplayPage);\n\t\n\texports.default = ReplayPageContainer;\n\t\n\tmodule.exports = ReplayPageContainer;\n\t\n\t/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__(6); if (makeExportsHot(module, __webpack_require__(1))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error(\"Cannot not apply hot update to \" + \"replay.jsx\" + \": \" + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(4)(module)))\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** 4.4bundle.js\n **/","import React from 'react'\nimport {take, times, constant} from 'lodash'\n\nimport {changeColor, scoreGuess} from '../actions'\nimport {isGameOver} from '../game'\n\nconst colorScheme = {\n    0: 'red',\n    1: 'cyan',\n    2: 'green',\n    3: 'orange',\n    4: 'magenta',\n    5: 'blue',\n    'correct': 'black',\n    'correctColor': 'red'\n}\n\nconst Peg = React.createClass({\n    onClick: function(evt) {\n        evt.stopPropagation()\n        const peg = evt.target\n        const {top, left, width, height} = peg.getBoundingClientRect()\n        const {index, color, isEditable, changeColor} = this.props\n        if (!isEditable) {\n            return\n        }\n        this.props.showColorChooser(this.props.index, peg)\n    },\n\n    render: function() {\n        const {color, isEditable} = this.props\n        let type = \"hole\"\n        let style = {}\n\n        if (color !== null) {\n            style = {\n                backgroundColor: colorScheme[color],\n                borderColor: colorScheme[color]\n            }\n            type = \"peg\"\n        }\n        if (isEditable) {\n            style.cursor = 'pointer'\n        }\n\n        return (<div className={type} style={style} onClick={this.onClick}>\n                </div>)\n    }\n})\n\nconst ScorePeg = React.createClass({\n    getType: function (score) {\n        let type\n        let style = null\n        if (score === 'correct') {\n            type = 'small peg'\n            style = {backgroundColor: colorScheme['correct']}\n        } else if (score === 'correctColor') {\n            type = 'small peg'\n            style = {backgroundColor: colorScheme['correctColor']}\n        } else {\n            type = 'small hole'\n        }\n        return [type, style]\n    },\n\n    render: function() {\n        let [type, style] = this.getType(this.props.value)\n        return (<div className={type} style={style}>\n                </div>)\n    }\n})\n\nconst Scores = React.createClass({\n    convertScore: function(scoresObj) {\n        if (!scoresObj) {\n            return [null, null, null, null]\n        }\n        const correct = scoresObj.get('correct', 0)\n        const correctColor = scoresObj.get('correctColor', 0)\n        return ensureLength(\n            times(correct, constant('correct')).concat(times(correctColor, constant('correctColor'))),\n            4)\n    },\n\n    render: function() {\n        const [score1, score2, score3, score4] = this.convertScore(this.props.score)\n\n        return (<div className=\"score\">\n                <div>\n                <ScorePeg value={score1} />\n                <ScorePeg value={score2} />\n                </div>\n                <div>\n                <ScorePeg value={score3} />\n                <ScorePeg value={score4} />\n                </div>\n                </div>)\n    }\n})\n\nconst Row = React.createClass({\n    allPegsSet: function(row) {\n        return row.get('pegs').every(peg => peg !== null)\n    },\n\n    scoresOrEvaluteButton: function(row, isGameOver, isEditable, isCurrentRow) {\n        if (!isGameOver && isCurrentRow) {\n            return (<div className='score'>\n                    <button className=\"checkButton\"\n                    disabled={!(isEditable && this.allPegsSet(row))}\n                    onClick={this.props.score}>Check</button>\n                    </div>)\n        }\n        return <Scores score={row.get('score')} />\n    },\n\n    render: function() {\n        const {row, isGameOver, isEditable, isCurrentRow, showColorChooser}  = this.props\n\n        return (<div className=\"row\">\n                <div className=\"holes\">\n                {row.get('pegs').map((color, idx) =>\n                                     <Peg key={idx} index={idx} isEditable={isEditable} color={color} showColorChooser={showColorChooser} />)}\n                                     </div>\n                                     {this.scoresOrEvaluteButton(row, isGameOver, isEditable, isCurrentRow)}\n                                     </div>)\n    }\n})\n\nconst ColorChooser = React.createClass({\n    getInitialState: function() {\n        return {\n            isShowing: false,\n            style: {\n                display: 'none'\n            }\n        }\n    },\n\n    show: function(targetEl) {\n        if (this.state.isShowing && targetEl === this.state.showingForEl) {\n            this.close()\n            return\n        }\n        let myTop, myLeft\n        const targetRect = targetEl.getBoundingClientRect()\n        myTop = window.scrollY + targetRect.top + targetRect.height / 2\n        myLeft = targetRect.right - targetRect.width / 2\n        this.setState({\n            showingForEl: targetEl,\n            isShowing: true,\n            style: {\n                display: 'block',\n                top: myTop,\n                left: myLeft\n            }})\n    },\n\n    close: function() {\n        this.setState({\n            style: {\n                display: 'none'\n            },\n            isShowing: false\n        })\n    },\n\n    colorClick: function(colIndex) {\n        this.props.changeColor(colIndex)\n        this.close()\n    },\n\n    render: function() {\n        const {changeColor} = this.props\n\n        const colorBlock = colIndex => {\n            return (<div className=\"color\"\n                    onClick={() => this.colorClick(colIndex)}\n                    style={{backgroundColor: colorScheme[colIndex]}}>\n                    </div>)\n        }\n\n        return (<div id=\"colorChooser\" style={this.state.style}>\n                <div>\n                {colorBlock(0)}\n                {colorBlock(1)}\n                {colorBlock(2)}\n                </div>\n                <div>\n                {colorBlock(3)}\n                {colorBlock(4)}\n                {colorBlock(5)}\n                </div>\n                </div>)\n    }\n})\n\nconst Board = React.createClass({\n\n    showColorChooser: function(pegIdx, pegEl) {\n        this.refs.colorChooser.show(pegEl)\n        this.pegIdx = pegIdx\n    },\n\n    render: function() {\n        const {game, dispatch} = this.props\n        const boardEditable = this.props.hasOwnProperty('editable') ? this.props.editable : true\n        const rows = game.get('rows')\n        const gameState = game.get('state')\n        if (!rows) {\n            return <div id=\"board\"></div>\n        }\n\n        const currentRowIdx = rows.findIndex(row => !row.get('score'))\n\n        const noop = () => {}\n\n        return (<div className=\"mainPanel\">\n                {rows.map((row, idx) =>\n                          <Row key={idx}\n                          isGameOver={isGameOver(gameState)}\n                          isEditable={boardEditable && !isGameOver(gameState) && currentRowIdx === idx}\n                          isCurrentRow={currentRowIdx === idx}\n                          row={row}\n                          showColorChooser={boardEditable ? this.showColorChooser : noop}\n                          score={() => boardEditable ? dispatch(scoreGuess(idx)) : noop} />)}\n\n                          <ColorChooser ref='colorChooser'\n                          changeColor={(newColor) => dispatch(changeColor(currentRowIdx, this.pegIdx, newColor))} />\n\n                          </div>)\n    }\n\n})\n\nfunction ensureLength(xs, requiredLength, fillValue=null) {\n    return xs.concat(times(constant(fillValue), requiredLength - xs.length))\n}\n\nexport default Board;\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/mastermind/components/board.jsx\n **/","import React from 'react'\n\nimport {STATES} from '../game'\n\nconst GameOverDialog = React.createClass({\n  render: function() {\n    const {gameState, newGame} = this.props\n    let buttonText = this.props.hasOwnProperty('buttonText') ? this.props.buttonText : 'Play another game'\n\n    const styles = {\n      msg: {\n        fontSize: 24,\n        marginBottom: 20\n      },\n      button: {\n        fontSize: 18,\n        padding: 12\n      }\n    }\n\n    return (<div id=\"dialog\">\n      <div>\n        <div style={styles.msg}>{gameState === STATES.WON ? 'You won!' : 'You lost!'}</div>\n        <button style={styles.button} onClick={newGame}>{buttonText}</button>\n      </div>\n    </div>)\n  }\n})\n\nexport default GameOverDialog\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/mastermind/components/game-over-dialog.jsx\n **/","import React from 'react'\nimport {connect} from 'react-redux'\nimport {merge} from 'lodash'\n\nimport Board from '../components/board'\nimport GameOverDialog from '../components/game-over-dialog'\nimport {isGameOver} from '../game'\n\nimport {replayGame, replayMoveToStart, replayPrev, replayNext, replayMoveToEnd, replayHideGameOverDialog} from '../actions'\n\nconst toolbarStyles = {\n      toolbar: {\n        border: '2px solid #f2f2f2',\n        backgroundColor: '#f2f2f2',\n        width: 310,\n        position: 'fixed',\n        bottom: 50,\n        textAlign: 'center',\n        padding: 5\n      },\n      button: {\n        height: 40,\n        padding: 2,\n        margin: 4\n      },\n      img: {\n        verticalAlign: 'middle',\n        height: 36\n      }\n  }\nconst ReplayAutoPlayToolBar = React.createClass({\n  render: function() {\n    const {stop, skip, speed, setSpeed, nextEventIn} = this.props\n\n    const styles = merge({}, toolbarStyles, {\n      speedUpButton: {\n        height: 40,\n        margin: 1,\n      },\n    })\n\n    function btnStyle(btnSpeed) {\n      if (speed === btnSpeed) {\n        return merge({}, styles.speedUpButton, {fontWeight: 'bold'})\n      } else {\n        return styles.speedUpButton\n      }\n    }\n\n    function formatMs(ms) {\n      let s = Math.floor(ms / 1000)\n      if (s > 60) {\n        return '>1m'\n      }\n      if (s === 0) {\n        s = '<0'\n      } else if (s < 10) {\n        s = ' ' + s\n      }\n      return s + 's'\n    }\n\n    let nextEventInFormatted = formatMs(nextEventIn)\n\n    return (<div id=\"replayToolbar\" style={styles.toolbar}>\n      <button style={styles.button} onClick={stop}>\n        <img style={styles.img} src=\"img/ic_stop_black_48dp.png\" alt=\"Stop\" title=\"Stop\" />\n      </button>\n        <span style={{paddingLeft: 12, fontFamily: 'Courier'}}>{nextEventInFormatted}</span>\n      <button style={styles.button} onClick={skip}>\n        <img style={styles.img} src=\"img/ic_skip_next_black_48dp.png\" alt=\"Skip\" title=\"Skip\" />\n      </button>\n      <span style={{paddingLeft: 12}}></span>\n      <button style={btnStyle(1)} onClick={() => setSpeed(1)}>1x</button>\n      <button style={btnStyle(2)} onClick={() => setSpeed(2)}>2x</button>\n      <button style={btnStyle(4)} onClick={() => setSpeed(4)}>4x</button>\n      <button style={btnStyle(8)} onClick={() => setSpeed(8)}>8x</button>\n    </div>)\n  }\n})\n\nconst ReplayManualToolBar = React.createClass({\n  render: function() {\n    const {play, start, next, prev, end} = this.props\n\n    const styles = toolbarStyles\n\n    return (<div id=\"replayToolbar\" style={styles.toolbar}>\n      <button style={styles.button} onClick={play}>\n        <img style={styles.img} src=\"img/ic_play_arrow_black_48dp.png\" alt=\"Autoplay\" title=\"Autoplay\" />\n      </button>\n      <span style={{paddingLeft: 12}}></span>\n      <button style={styles.button} onClick={start}>\n        <img style={styles.img} src=\"img/ic_fast_rewind_black_48dp.png\" alt=\"Skip to Start\" title=\"Skip to Start\" />\n      </button>\n      <button style={styles.button} onClick={prev}>\n        <img style={styles.img} src=\"img/ic_skip_previous_black_48dp.png\" alt=\"Previous\" title=\"Previous\" />\n      </button>\n      <button style={styles.button} onClick={next}>\n        <img style={styles.img} src=\"img/ic_skip_next_black_48dp.png\" alt=\"Next\" title=\"Next\" />\n      </button>\n      <button style={styles.button} onClick={end}>\n        <img style={styles.img} src=\"img/ic_fast_forward_black_48dp.png\" alt=\"Skip to the End\" title=\"Skip to the End\" />\n      </button>\n\n    </div>)\n  }\n})\n\nconst ReplayPage = React.createClass({\n  getInitialState: function() {\n    return {\n      manualControl: true,\n      nextEventIn: null,\n      speed: 1\n    }\n  },\n\n  componentDidMount: function() {\n    this.props.dispatch(replayGame(this.props.params.gameId))\n    this.props.dispatch(replayNext(this.props.params.gameId))\n  },\n\n  componentWillUnmount: function() {\n    this.unschedule()\n  },\n\n  switchToAutoplay: function() {\n      this.setState({manualControl: false})\n  },\n\n  switchToManualControl: function() {\n      this.setState({manualControl: true})\n  },\n\n  unschedule: function() {\n    if (this.timeoutHandler) {\n      clearTimeout(this.timeoutHandler)\n    }\n  },\n\n  setSpeed: function(newSpeed) {\n    this.setState({speed: newSpeed})\n  },\n\n  skip: function() {\n    this.unschedule()\n    this.scheduleNext(true)\n  },\n\n  stop: function() {\n    this.unschedule()\n    this.switchToManualControl()\n  },\n\n  play: function() {\n    const {dispatch, replay} = this.props\n    if (isGameOver(replay.getIn(['game', 'state']))) {\n      this.setState({speed: 1})\n      dispatch(replayMoveToStart())\n    }\n    this.switchToAutoplay()\n\n    setTimeout(() => this.scheduleNext(), 0)\n  },\n\n  scheduleNext: function(immediate = false) {\n    const {dispatch, replay} = this.props\n    let gameReplayed = replay.get('gameReplayed')\n    let position = replay.get('replayPosition')\n\n    let atEnd = (position, game) => (position + 1 === game.get('states').count())\n\n    if (atEnd(position, gameReplayed)) {\n      this.switchToManualControl()\n      return\n    }\n\n    let current = gameReplayed.getIn(['states', position])\n    let next = gameReplayed.getIn(['states', position + 1])\n    let delta =\n        new Date(next.get('at')).getTime() -\n        new Date(current.get('at')).getTime()\n\n    let nextEventIn = immediate ? 0 : (delta / this.state.speed)\n    this.setState({nextEventIn})\n\n    this.timeoutHandler = setTimeout(() => {\n      dispatch(replayNext())\n      this.scheduleNext()\n    }, nextEventIn)\n},\n\n\n  render: function() {\n    const {dispatch, replay} = this.props\n    const gameReplayed = replay.get('gameReplayed')\n    const showGameOverDialog = replay.get('showGameOverDialog', true)\n    if (!gameReplayed) {\n      return (<div style={{textAlign: 'center'}} className=\"mainPanel\">\n          <span>No such game</span>\n      </div>)\n    }\n    const name = gameReplayed.get('name')\n    const at = new Date(gameReplayed.get('states').first().get('at')).toLocaleString()\n    const game = replay.get('game')\n    const gameState = game.get('state')\n\n    return (<div className=\"mainPanel\">\n      <div style={{textAlign: 'center'}}>\n        Game played by <br />\n        <strong>{name}</strong>\n       <br /> at <br />\n       <em>{at}</em>\n      </div>\n\n      {this.state.manualControl ?\n        <ReplayManualToolBar\n          play={this.play}\n          start={() => dispatch(replayMoveToStart())}\n          prev={() => dispatch(replayPrev())}\n          next={() => dispatch(replayNext())}\n          end={() => dispatch(replayMoveToEnd())} />\n        :\n        <ReplayAutoPlayToolBar\n          skip={this.skip}\n          stop={this.stop}\n          speed={this.state.speed}\n          setSpeed={this.setSpeed}\n          nextEventIn={this.state.nextEventIn}/>}\n\n      <Board game={game} editable={false}  />\n      {isGameOver(gameState) && showGameOverDialog ?\n          <GameOverDialog\n              buttonText=\"OK\"\n              gameState={gameState}\n              newGame={() => dispatch(replayHideGameOverDialog())}/>\n          : null}\n    </div>)\n  }\n})\n\nfunction mapStateToProps(state) {\n  return {\n    games: state.mastermind.game.get('replayableGames'),\n    replay: state.mastermind.replay\n  }\n}\n\nconst ReplayPageContainer = connect(mapStateToProps)(ReplayPage)\n\nexport default ReplayPageContainer\nmodule.exports = ReplayPageContainer\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/mastermind/pages/replay.jsx\n **/"],"sourceRoot":""}