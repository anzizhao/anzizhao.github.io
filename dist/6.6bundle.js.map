{"version":3,"sources":["webpack:///6.6bundle.js","webpack:///./src/common/mastermind/components/board.jsx","webpack:///./src/common/mastermind/components/game-over-dialog.jsx","webpack:///./src/common/mastermind/pages/replay.jsx"],"names":["webpackJsonp",173,"module","exports","__webpack_require__","ReactHotAPI","RootInstanceProvider","ReactMount","React","makeHot","hot","data","getRootInstances","_interopRequireDefault","obj","__esModule","default","ensureLength","xs","requiredLength","fillValue","arguments","length","undefined","concat","_lodash","times","constant","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","push","value","err","Array","isArray","Object","TypeError","defineProperty","_react","_react2","_actions","_game","colorScheme",0,1,2,3,4,5,6,7,8,9,"correct","correctColor","Peg","createClass","displayName","onClick","evt","stopPropagation","peg","target","_peg$getBoundingClien","getBoundingClientRect","_props","top","left","width","height","this","props","isEditable","index","color","changeColor","showColorChooser","render","_props2","type","style","backgroundColor","borderColor","cursor","createElement","className","ScorePeg","getType","score","_getType","_getType2","Scores","convertScore","scoresObj","get","PEG_IN_ROW","_convertScore","_convertScore2","score1","score2","score3","score4","score5","score6","Row","allPegsSet","row","every","scoresOrEvaluteButton","isGameOver","isCurrentRow","disabled","_props3","map","idx","key","ColorChooser","getInitialState","isShowing","display","show","targetEl","state","showingForEl","close","myTop","myLeft","targetRect","window","scrollY","right","setState","colorClick","colIndex","_this","colorBlock","id","Board","pegIdx","pegEl","refs","colorChooser","_this2","_props4","game","dispatch","boardEditable","hasOwnProperty","editable","rows","gameState","currentRowIdx","findIndex","noop","scoreGuess","ref","newColor","call","foundReactClasses","makeExportsHot","shouldAcceptModule","accept","console","error","message","dispose",174,"GameOverDialog","newGame","buttonText","styles","msg","fontSize","marginBottom","button","padding","STATES","WON",585,"mapStateToProps","games","mastermind","replay","_reactRedux","_board","_board2","_gameOverDialog","_gameOverDialog2","toolbarStyles","toolbar","border","position","bottom","textAlign","margin","img","verticalAlign","ReplayAutoPlayToolBar","btnStyle","btnSpeed","speed","merge","speedUpButton","fontWeight","formatMs","ms","s","Math","floor","stop","skip","setSpeed","nextEventIn","nextEventInFormatted","src","alt","title","paddingLeft","fontFamily","ReplayManualToolBar","play","start","prev","end","ReplayPage","manualControl","componentDidMount","replayGame","params","gameId","replayNext","componentWillUnmount","unschedule","switchToAutoplay","switchToManualControl","timeoutHandler","clearTimeout","newSpeed","scheduleNext","getIn","replayMoveToStart","setTimeout","immediate","gameReplayed","atEnd","count","current","delta","Date","getTime","_props5","showGameOverDialog","name","at","first","toLocaleString","replayPrev","replayMoveToEnd","replayHideGameOverDialog","ReplayPageContainer","connect"],"mappings":"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","file":"6.6bundle.js","sourcesContent":["webpackJsonp([6,12],{\n\n/***/ 173:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__(6), RootInstanceProvider = __webpack_require__(4), ReactMount = __webpack_require__(2), React = __webpack_require__(1); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {\n\t\n\t'use strict';\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _lodash = __webpack_require__(97);\n\t\n\tvar _actions = __webpack_require__(52);\n\t\n\tvar _game = __webpack_require__(53);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar colorScheme = {\n\t    0: 'red',\n\t    1: 'orange',\n\t    2: 'yellow',\n\t    3: 'green',\n\t    4: 'cyan',\n\t    5: 'blue',\n\t    6: 'magenta',\n\t    7: 'gray',\n\t    8: 'brown',\n\t    9: 'salmon',\n\t    'correct': 'black',\n\t    'correctColor': 'red'\n\t};\n\t\n\tvar Peg = _react2.default.createClass({\n\t    displayName: 'Peg',\n\t\n\t    onClick: function onClick(evt) {\n\t        evt.stopPropagation();\n\t        var peg = evt.target;\n\t\n\t        var _peg$getBoundingClien = peg.getBoundingClientRect();\n\t\n\t        var top = _peg$getBoundingClien.top;\n\t        var left = _peg$getBoundingClien.left;\n\t        var width = _peg$getBoundingClien.width;\n\t        var height = _peg$getBoundingClien.height;\n\t        var _props = this.props;\n\t        var index = _props.index;\n\t        var color = _props.color;\n\t        var isEditable = _props.isEditable;\n\t        var changeColor = _props.changeColor;\n\t\n\t        if (!isEditable) {\n\t            return;\n\t        }\n\t        this.props.showColorChooser(this.props.index, peg);\n\t    },\n\t\n\t    render: function render() {\n\t        var _props2 = this.props;\n\t        var color = _props2.color;\n\t        var isEditable = _props2.isEditable;\n\t\n\t        var type = \"hole\";\n\t        var style = {};\n\t\n\t        if (color !== null) {\n\t            style = {\n\t                backgroundColor: colorScheme[color],\n\t                borderColor: colorScheme[color]\n\t            };\n\t            type = \"peg\";\n\t        }\n\t        if (isEditable) {\n\t            style.cursor = 'pointer';\n\t        }\n\t\n\t        return _react2.default.createElement('div', { className: type, style: style, onClick: this.onClick });\n\t    }\n\t});\n\t\n\tvar ScorePeg = _react2.default.createClass({\n\t    displayName: 'ScorePeg',\n\t\n\t    getType: function getType(score) {\n\t        var type = undefined;\n\t        var style = null;\n\t        if (score === 'correct') {\n\t            type = 'small peg';\n\t            style = { backgroundColor: colorScheme['correct'] };\n\t        } else if (score === 'correctColor') {\n\t            type = 'small peg';\n\t            style = { backgroundColor: colorScheme['correctColor'] };\n\t        } else {\n\t            type = 'small hole';\n\t        }\n\t        return [type, style];\n\t    },\n\t\n\t    render: function render() {\n\t        var _getType = this.getType(this.props.value);\n\t\n\t        var _getType2 = _slicedToArray(_getType, 2);\n\t\n\t        var type = _getType2[0];\n\t        var style = _getType2[1];\n\t\n\t        return _react2.default.createElement('div', { className: type, style: style });\n\t    }\n\t});\n\t\n\tvar Scores = _react2.default.createClass({\n\t    displayName: 'Scores',\n\t\n\t    convertScore: function convertScore(scoresObj) {\n\t        if (!scoresObj) {\n\t            return [null, null, null, null, null, null];\n\t        }\n\t        var correct = scoresObj.get('correct', 0);\n\t        var correctColor = scoresObj.get('correctColor', 0);\n\t        return ensureLength((0, _lodash.times)(correct, (0, _lodash.constant)('correct')).concat((0, _lodash.times)(correctColor, (0, _lodash.constant)('correctColor'))), _game.PEG_IN_ROW);\n\t    },\n\t\n\t    render: function render() {\n\t        var _convertScore = this.convertScore(this.props.score);\n\t\n\t        var _convertScore2 = _slicedToArray(_convertScore, 6);\n\t\n\t        var score1 = _convertScore2[0];\n\t        var score2 = _convertScore2[1];\n\t        var score3 = _convertScore2[2];\n\t        var score4 = _convertScore2[3];\n\t        var score5 = _convertScore2[4];\n\t        var score6 = _convertScore2[5];\n\t\n\t        return _react2.default.createElement(\n\t            'div',\n\t            { className: 'score' },\n\t            _react2.default.createElement(\n\t                'div',\n\t                null,\n\t                _react2.default.createElement(ScorePeg, { value: score1 }),\n\t                _react2.default.createElement(ScorePeg, { value: score2 }),\n\t                _react2.default.createElement(ScorePeg, { value: score3 })\n\t            ),\n\t            _react2.default.createElement(\n\t                'div',\n\t                null,\n\t                _react2.default.createElement(ScorePeg, { value: score4 }),\n\t                _react2.default.createElement(ScorePeg, { value: score5 }),\n\t                _react2.default.createElement(ScorePeg, { value: score6 })\n\t            )\n\t        );\n\t    }\n\t});\n\t\n\tvar Row = _react2.default.createClass({\n\t    displayName: 'Row',\n\t\n\t    allPegsSet: function allPegsSet(row) {\n\t        return row.get('pegs').every(function (peg) {\n\t            return peg !== null;\n\t        });\n\t    },\n\t\n\t    scoresOrEvaluteButton: function scoresOrEvaluteButton(row, isGameOver, isEditable, isCurrentRow) {\n\t        if (!isGameOver && isCurrentRow) {\n\t            return _react2.default.createElement(\n\t                'div',\n\t                { className: 'score' },\n\t                _react2.default.createElement(\n\t                    'button',\n\t                    { className: 'checkButton',\n\t                        disabled: !(isEditable && this.allPegsSet(row)),\n\t                        onClick: this.props.score },\n\t                    'Check'\n\t                )\n\t            );\n\t        }\n\t        return _react2.default.createElement(Scores, { score: row.get('score') });\n\t    },\n\t\n\t    render: function render() {\n\t        var _props3 = this.props;\n\t        var row = _props3.row;\n\t        var isGameOver = _props3.isGameOver;\n\t        var isEditable = _props3.isEditable;\n\t        var isCurrentRow = _props3.isCurrentRow;\n\t        var showColorChooser = _props3.showColorChooser;\n\t\n\t        return _react2.default.createElement(\n\t            'div',\n\t            { className: 'row' },\n\t            _react2.default.createElement(\n\t                'div',\n\t                { className: 'holes' },\n\t                row.get('pegs').map(function (color, idx) {\n\t                    return _react2.default.createElement(Peg, { key: idx, index: idx, isEditable: isEditable, color: color, showColorChooser: showColorChooser });\n\t                })\n\t            ),\n\t            this.scoresOrEvaluteButton(row, isGameOver, isEditable, isCurrentRow)\n\t        );\n\t    }\n\t});\n\t\n\tvar ColorChooser = _react2.default.createClass({\n\t    displayName: 'ColorChooser',\n\t\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            isShowing: false,\n\t            style: {\n\t                display: 'none'\n\t            }\n\t        };\n\t    },\n\t\n\t    show: function show(targetEl) {\n\t        if (this.state.isShowing && targetEl === this.state.showingForEl) {\n\t            this.close();\n\t            return;\n\t        }\n\t        var myTop = undefined,\n\t            myLeft = undefined;\n\t        var targetRect = targetEl.getBoundingClientRect();\n\t        myTop = window.scrollY + targetRect.top + targetRect.height / 2;\n\t        myLeft = targetRect.right - targetRect.width / 2;\n\t        this.setState({\n\t            showingForEl: targetEl,\n\t            isShowing: true,\n\t            style: {\n\t                display: 'block',\n\t                top: myTop,\n\t                left: myLeft\n\t            } });\n\t    },\n\t\n\t    close: function close() {\n\t        this.setState({\n\t            style: {\n\t                display: 'none'\n\t            },\n\t            isShowing: false\n\t        });\n\t    },\n\t\n\t    colorClick: function colorClick(colIndex) {\n\t        this.props.changeColor(colIndex);\n\t        this.close();\n\t    },\n\t\n\t    render: function render() {\n\t        var _this = this;\n\t\n\t        var changeColor = this.props.changeColor;\n\t\n\t        var colorBlock = function colorBlock(colIndex) {\n\t            return _react2.default.createElement('div', { className: 'color',\n\t                onClick: function onClick() {\n\t                    return _this.colorClick(colIndex);\n\t                },\n\t                style: { backgroundColor: colorScheme[colIndex] } });\n\t        };\n\t\n\t        return _react2.default.createElement(\n\t            'div',\n\t            { id: 'colorChooser', style: this.state.style },\n\t            _react2.default.createElement(\n\t                'div',\n\t                null,\n\t                colorBlock(0),\n\t                colorBlock(1),\n\t                colorBlock(2),\n\t                colorBlock(3),\n\t                colorBlock(4)\n\t            ),\n\t            _react2.default.createElement(\n\t                'div',\n\t                null,\n\t                colorBlock(5),\n\t                colorBlock(6),\n\t                colorBlock(7),\n\t                colorBlock(8),\n\t                colorBlock(9)\n\t            )\n\t        );\n\t    }\n\t});\n\t\n\tvar Board = _react2.default.createClass({\n\t    displayName: 'Board',\n\t\n\t    showColorChooser: function showColorChooser(pegIdx, pegEl) {\n\t        this.refs.colorChooser.show(pegEl);\n\t        this.pegIdx = pegIdx;\n\t    },\n\t\n\t    render: function render() {\n\t        var _this2 = this;\n\t\n\t        var _props4 = this.props;\n\t        var game = _props4.game;\n\t        var dispatch = _props4.dispatch;\n\t\n\t        var boardEditable = this.props.hasOwnProperty('editable') ? this.props.editable : true;\n\t        var rows = game.get('rows');\n\t        var gameState = game.get('state');\n\t        if (!rows) {\n\t            return _react2.default.createElement('div', { id: 'board' });\n\t        }\n\t\n\t        var currentRowIdx = rows.findIndex(function (row) {\n\t            return !row.get('score');\n\t        });\n\t\n\t        var noop = function noop() {};\n\t\n\t        return _react2.default.createElement(\n\t            'div',\n\t            { className: 'mainPanel' },\n\t            rows.map(function (row, idx) {\n\t                return _react2.default.createElement(Row, { key: idx,\n\t                    isGameOver: (0, _game.isGameOver)(gameState),\n\t                    isEditable: boardEditable && !(0, _game.isGameOver)(gameState) && currentRowIdx === idx,\n\t                    isCurrentRow: currentRowIdx === idx,\n\t                    row: row,\n\t                    showColorChooser: boardEditable ? _this2.showColorChooser : noop,\n\t                    score: function score() {\n\t                        return boardEditable ? dispatch((0, _actions.scoreGuess)(idx)) : noop;\n\t                    } });\n\t            }),\n\t            _react2.default.createElement(ColorChooser, { ref: 'colorChooser',\n\t                changeColor: function changeColor(newColor) {\n\t                    return dispatch((0, _actions.changeColor)(currentRowIdx, _this2.pegIdx, newColor));\n\t                } })\n\t        );\n\t    }\n\t\n\t});\n\t\n\tfunction ensureLength(xs, requiredLength) {\n\t    var fillValue = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];\n\t\n\t    return xs.concat((0, _lodash.times)((0, _lodash.constant)(fillValue), requiredLength - xs.length));\n\t}\n\t\n\texports.default = Board;\n\t\n\t/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__(5); if (makeExportsHot(module, __webpack_require__(1))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error(\"Cannot not apply hot update to \" + \"board.jsx\" + \": \" + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)(module)))\n\n/***/ },\n\n/***/ 174:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__(6), RootInstanceProvider = __webpack_require__(4), ReactMount = __webpack_require__(2), React = __webpack_require__(1); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {\n\t\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _game = __webpack_require__(53);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar GameOverDialog = _react2.default.createClass({\n\t  displayName: 'GameOverDialog',\n\t\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var gameState = _props.gameState;\n\t    var newGame = _props.newGame;\n\t\n\t    var buttonText = this.props.hasOwnProperty('buttonText') ? this.props.buttonText : 'Play another game';\n\t\n\t    var styles = {\n\t      msg: {\n\t        fontSize: 24,\n\t        marginBottom: 20\n\t      },\n\t      button: {\n\t        fontSize: 18,\n\t        padding: 12\n\t      }\n\t    };\n\t\n\t    return _react2.default.createElement(\n\t      'div',\n\t      { id: 'dialog' },\n\t      _react2.default.createElement(\n\t        'div',\n\t        null,\n\t        _react2.default.createElement(\n\t          'div',\n\t          { style: styles.msg },\n\t          gameState === _game.STATES.WON ? 'You won!' : 'You lost!'\n\t        ),\n\t        _react2.default.createElement(\n\t          'button',\n\t          { style: styles.button, onClick: newGame },\n\t          buttonText\n\t        )\n\t      )\n\t    );\n\t  }\n\t});\n\t\n\texports.default = GameOverDialog;\n\t\n\t/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__(5); if (makeExportsHot(module, __webpack_require__(1))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error(\"Cannot not apply hot update to \" + \"game-over-dialog.jsx\" + \": \" + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)(module)))\n\n/***/ },\n\n/***/ 585:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(module) {/* REACT HOT LOADER */ if (true) { (function () { var ReactHotAPI = __webpack_require__(6), RootInstanceProvider = __webpack_require__(4), ReactMount = __webpack_require__(2), React = __webpack_require__(1); module.makeHot = module.hot.data ? module.hot.data.makeHot : ReactHotAPI(function () { return RootInstanceProvider.getRootInstances(ReactMount); }, React); })(); } try { (function () {\n\t\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(28);\n\t\n\tvar _lodash = __webpack_require__(97);\n\t\n\tvar _board = __webpack_require__(173);\n\t\n\tvar _board2 = _interopRequireDefault(_board);\n\t\n\tvar _gameOverDialog = __webpack_require__(174);\n\t\n\tvar _gameOverDialog2 = _interopRequireDefault(_gameOverDialog);\n\t\n\tvar _game = __webpack_require__(53);\n\t\n\tvar _actions = __webpack_require__(52);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar toolbarStyles = {\n\t  toolbar: {\n\t    border: '2px solid #f2f2f2',\n\t    backgroundColor: '#f2f2f2',\n\t    width: 310,\n\t    position: 'fixed',\n\t    bottom: 50,\n\t    textAlign: 'center',\n\t    padding: 5\n\t  },\n\t  button: {\n\t    height: 40,\n\t    padding: 2,\n\t    margin: 4\n\t  },\n\t  img: {\n\t    verticalAlign: 'middle',\n\t    height: 36\n\t  }\n\t};\n\tvar ReplayAutoPlayToolBar = _react2.default.createClass({\n\t  displayName: 'ReplayAutoPlayToolBar',\n\t\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var stop = _props.stop;\n\t    var skip = _props.skip;\n\t    var speed = _props.speed;\n\t    var setSpeed = _props.setSpeed;\n\t    var nextEventIn = _props.nextEventIn;\n\t\n\t    var styles = (0, _lodash.merge)({}, toolbarStyles, {\n\t      speedUpButton: {\n\t        height: 40,\n\t        margin: 1\n\t      }\n\t    });\n\t\n\t    function btnStyle(btnSpeed) {\n\t      if (speed === btnSpeed) {\n\t        return (0, _lodash.merge)({}, styles.speedUpButton, { fontWeight: 'bold' });\n\t      } else {\n\t        return styles.speedUpButton;\n\t      }\n\t    }\n\t\n\t    function formatMs(ms) {\n\t      var s = Math.floor(ms / 1000);\n\t      if (s > 60) {\n\t        return '>1m';\n\t      }\n\t      if (s === 0) {\n\t        s = '<0';\n\t      } else if (s < 10) {\n\t        s = ' ' + s;\n\t      }\n\t      return s + 's';\n\t    }\n\t\n\t    var nextEventInFormatted = formatMs(nextEventIn);\n\t\n\t    return _react2.default.createElement(\n\t      'div',\n\t      { id: 'replayToolbar', style: styles.toolbar },\n\t      _react2.default.createElement(\n\t        'button',\n\t        { style: styles.button, onClick: stop },\n\t        _react2.default.createElement('img', { style: styles.img, src: 'img/ic_stop_black_48dp.png', alt: 'Stop', title: 'Stop' })\n\t      ),\n\t      _react2.default.createElement(\n\t        'span',\n\t        { style: { paddingLeft: 12, fontFamily: 'Courier' } },\n\t        nextEventInFormatted\n\t      ),\n\t      _react2.default.createElement(\n\t        'button',\n\t        { style: styles.button, onClick: skip },\n\t        _react2.default.createElement('img', { style: styles.img, src: 'img/ic_skip_next_black_48dp.png', alt: 'Skip', title: 'Skip' })\n\t      ),\n\t      _react2.default.createElement('span', { style: { paddingLeft: 12 } }),\n\t      _react2.default.createElement(\n\t        'button',\n\t        { style: btnStyle(1), onClick: function onClick() {\n\t            return setSpeed(1);\n\t          } },\n\t        '1x'\n\t      ),\n\t      _react2.default.createElement(\n\t        'button',\n\t        { style: btnStyle(2), onClick: function onClick() {\n\t            return setSpeed(2);\n\t          } },\n\t        '2x'\n\t      ),\n\t      _react2.default.createElement(\n\t        'button',\n\t        { style: btnStyle(4), onClick: function onClick() {\n\t            return setSpeed(4);\n\t          } },\n\t        '4x'\n\t      ),\n\t      _react2.default.createElement(\n\t        'button',\n\t        { style: btnStyle(8), onClick: function onClick() {\n\t            return setSpeed(8);\n\t          } },\n\t        '8x'\n\t      )\n\t    );\n\t  }\n\t});\n\t\n\tvar ReplayManualToolBar = _react2.default.createClass({\n\t  displayName: 'ReplayManualToolBar',\n\t\n\t  render: function render() {\n\t    var _props2 = this.props;\n\t    var play = _props2.play;\n\t    var start = _props2.start;\n\t    var next = _props2.next;\n\t    var prev = _props2.prev;\n\t    var end = _props2.end;\n\t\n\t    var styles = toolbarStyles;\n\t\n\t    return _react2.default.createElement(\n\t      'div',\n\t      { id: 'replayToolbar', style: styles.toolbar },\n\t      _react2.default.createElement(\n\t        'button',\n\t        { style: styles.button, onClick: play },\n\t        _react2.default.createElement('img', { style: styles.img, src: 'img/ic_play_arrow_black_48dp.png', alt: 'Autoplay', title: 'Autoplay' })\n\t      ),\n\t      _react2.default.createElement('span', { style: { paddingLeft: 12 } }),\n\t      _react2.default.createElement(\n\t        'button',\n\t        { style: styles.button, onClick: start },\n\t        _react2.default.createElement('img', { style: styles.img, src: 'img/ic_fast_rewind_black_48dp.png', alt: 'Skip to Start', title: 'Skip to Start' })\n\t      ),\n\t      _react2.default.createElement(\n\t        'button',\n\t        { style: styles.button, onClick: prev },\n\t        _react2.default.createElement('img', { style: styles.img, src: 'img/ic_skip_previous_black_48dp.png', alt: 'Previous', title: 'Previous' })\n\t      ),\n\t      _react2.default.createElement(\n\t        'button',\n\t        { style: styles.button, onClick: next },\n\t        _react2.default.createElement('img', { style: styles.img, src: 'img/ic_skip_next_black_48dp.png', alt: 'Next', title: 'Next' })\n\t      ),\n\t      _react2.default.createElement(\n\t        'button',\n\t        { style: styles.button, onClick: end },\n\t        _react2.default.createElement('img', { style: styles.img, src: 'img/ic_fast_forward_black_48dp.png', alt: 'Skip to the End', title: 'Skip to the End' })\n\t      )\n\t    );\n\t  }\n\t});\n\t\n\tvar ReplayPage = _react2.default.createClass({\n\t  displayName: 'ReplayPage',\n\t\n\t  getInitialState: function getInitialState() {\n\t    return {\n\t      manualControl: true,\n\t      nextEventIn: null,\n\t      speed: 1\n\t    };\n\t  },\n\t\n\t  componentDidMount: function componentDidMount() {\n\t    this.props.dispatch((0, _actions.replayGame)(this.props.params.gameId));\n\t    this.props.dispatch((0, _actions.replayNext)(this.props.params.gameId));\n\t  },\n\t\n\t  componentWillUnmount: function componentWillUnmount() {\n\t    this.unschedule();\n\t  },\n\t\n\t  switchToAutoplay: function switchToAutoplay() {\n\t    this.setState({ manualControl: false });\n\t  },\n\t\n\t  switchToManualControl: function switchToManualControl() {\n\t    this.setState({ manualControl: true });\n\t  },\n\t\n\t  unschedule: function unschedule() {\n\t    if (this.timeoutHandler) {\n\t      clearTimeout(this.timeoutHandler);\n\t    }\n\t  },\n\t\n\t  setSpeed: function setSpeed(newSpeed) {\n\t    this.setState({ speed: newSpeed });\n\t  },\n\t\n\t  skip: function skip() {\n\t    this.unschedule();\n\t    this.scheduleNext(true);\n\t  },\n\t\n\t  stop: function stop() {\n\t    this.unschedule();\n\t    this.switchToManualControl();\n\t  },\n\t\n\t  play: function play() {\n\t    var _this = this;\n\t\n\t    var _props3 = this.props;\n\t    var dispatch = _props3.dispatch;\n\t    var replay = _props3.replay;\n\t\n\t    if ((0, _game.isGameOver)(replay.getIn(['game', 'state']))) {\n\t      this.setState({ speed: 1 });\n\t      dispatch((0, _actions.replayMoveToStart)());\n\t    }\n\t    this.switchToAutoplay();\n\t\n\t    setTimeout(function () {\n\t      return _this.scheduleNext();\n\t    }, 0);\n\t  },\n\t\n\t  scheduleNext: function scheduleNext() {\n\t    var _this2 = this;\n\t\n\t    var immediate = arguments.length <= 0 || arguments[0] === undefined ? false : arguments[0];\n\t    var _props4 = this.props;\n\t    var dispatch = _props4.dispatch;\n\t    var replay = _props4.replay;\n\t\n\t    var gameReplayed = replay.get('gameReplayed');\n\t    var position = replay.get('replayPosition');\n\t\n\t    var atEnd = function atEnd(position, game) {\n\t      return position + 1 === game.get('states').count();\n\t    };\n\t\n\t    if (atEnd(position, gameReplayed)) {\n\t      this.switchToManualControl();\n\t      return;\n\t    }\n\t\n\t    var current = gameReplayed.getIn(['states', position]);\n\t    var next = gameReplayed.getIn(['states', position + 1]);\n\t    var delta = new Date(next.get('at')).getTime() - new Date(current.get('at')).getTime();\n\t\n\t    var nextEventIn = immediate ? 0 : delta / this.state.speed;\n\t    this.setState({ nextEventIn: nextEventIn });\n\t\n\t    this.timeoutHandler = setTimeout(function () {\n\t      dispatch((0, _actions.replayNext)());\n\t      _this2.scheduleNext();\n\t    }, nextEventIn);\n\t  },\n\t\n\t  render: function render() {\n\t    var _props5 = this.props;\n\t    var dispatch = _props5.dispatch;\n\t    var replay = _props5.replay;\n\t\n\t    var gameReplayed = replay.get('gameReplayed');\n\t    var showGameOverDialog = replay.get('showGameOverDialog', true);\n\t    if (!gameReplayed) {\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { style: { textAlign: 'center' }, className: 'mainPanel' },\n\t        _react2.default.createElement(\n\t          'span',\n\t          null,\n\t          'No such game'\n\t        )\n\t      );\n\t    }\n\t    var name = gameReplayed.get('name');\n\t    var at = new Date(gameReplayed.get('states').first().get('at')).toLocaleString();\n\t    var game = replay.get('game');\n\t    var gameState = game.get('state');\n\t\n\t    return _react2.default.createElement(\n\t      'div',\n\t      { className: 'mainPanel' },\n\t      _react2.default.createElement(\n\t        'div',\n\t        { style: { textAlign: 'center' } },\n\t        'Game played by ',\n\t        _react2.default.createElement('br', null),\n\t        _react2.default.createElement(\n\t          'strong',\n\t          null,\n\t          name\n\t        ),\n\t        _react2.default.createElement('br', null),\n\t        ' at ',\n\t        _react2.default.createElement('br', null),\n\t        _react2.default.createElement(\n\t          'em',\n\t          null,\n\t          at\n\t        )\n\t      ),\n\t      this.state.manualControl ? _react2.default.createElement(ReplayManualToolBar, {\n\t        play: this.play,\n\t        start: function start() {\n\t          return dispatch((0, _actions.replayMoveToStart)());\n\t        },\n\t        prev: function prev() {\n\t          return dispatch((0, _actions.replayPrev)());\n\t        },\n\t        next: function next() {\n\t          return dispatch((0, _actions.replayNext)());\n\t        },\n\t        end: function end() {\n\t          return dispatch((0, _actions.replayMoveToEnd)());\n\t        } }) : _react2.default.createElement(ReplayAutoPlayToolBar, {\n\t        skip: this.skip,\n\t        stop: this.stop,\n\t        speed: this.state.speed,\n\t        setSpeed: this.setSpeed,\n\t        nextEventIn: this.state.nextEventIn }),\n\t      _react2.default.createElement(_board2.default, { game: game, editable: false }),\n\t      (0, _game.isGameOver)(gameState) && showGameOverDialog ? _react2.default.createElement(_gameOverDialog2.default, {\n\t        buttonText: 'OK',\n\t        gameState: gameState,\n\t        newGame: function newGame() {\n\t          return dispatch((0, _actions.replayHideGameOverDialog)());\n\t        } }) : null\n\t    );\n\t  }\n\t});\n\t\n\tfunction mapStateToProps(state) {\n\t  return {\n\t    games: state.mastermind.game.get('replayableGames'),\n\t    replay: state.mastermind.replay\n\t  };\n\t}\n\t\n\tvar ReplayPageContainer = (0, _reactRedux.connect)(mapStateToProps)(ReplayPage);\n\t\n\texports.default = ReplayPageContainer;\n\t\n\tmodule.exports = ReplayPageContainer;\n\t\n\t/* REACT HOT LOADER */ }).call(this); } finally { if (true) { (function () { var foundReactClasses = module.hot.data && module.hot.data.foundReactClasses || false; if (module.exports && module.makeHot) { var makeExportsHot = __webpack_require__(5); if (makeExportsHot(module, __webpack_require__(1))) { foundReactClasses = true; } var shouldAcceptModule = true && foundReactClasses; if (shouldAcceptModule) { module.hot.accept(function (err) { if (err) { console.error(\"Cannot not apply hot update to \" + \"replay.jsx\" + \": \" + err.message); } }); } } module.hot.dispose(function (data) { data.makeHot = module.makeHot; data.foundReactClasses = foundReactClasses; }); })(); } }\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)(module)))\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** 6.6bundle.js\n **/","import React from 'react'\nimport {take, times, constant} from 'lodash'\n\nimport {changeColor, scoreGuess} from '../actions'\nimport {isGameOver, PEG_IN_ROW} from '../game'\n\nconst colorScheme = {\n    0: 'red',\n    1: 'orange',\n    2: 'yellow',\n    3: 'green',\n    4: 'cyan',\n    5: 'blue',\n    6: 'magenta',\n    7: 'gray',\n    8: 'brown',\n    9: 'salmon',\n    'correct': 'black',\n    'correctColor': 'red'\n}\n\nconst Peg = React.createClass({\n    onClick: function(evt) {\n        evt.stopPropagation()\n        const peg = evt.target\n        const {top, left, width, height} = peg.getBoundingClientRect()\n        const {index, color, isEditable, changeColor} = this.props\n        if (!isEditable) {\n            return\n        }\n        this.props.showColorChooser(this.props.index, peg)\n    },\n\n    render: function() {\n        const {color, isEditable} = this.props\n        let type = \"hole\"\n        let style = {}\n\n        if (color !== null) {\n            style = {\n                backgroundColor: colorScheme[color],\n                borderColor: colorScheme[color]\n            }\n            type = \"peg\"\n        }\n        if (isEditable) {\n            style.cursor = 'pointer'\n        }\n\n        return (<div className={type} style={style} onClick={this.onClick}>\n                </div>)\n    }\n})\n\nconst ScorePeg = React.createClass({\n    getType: function (score) {\n        let type\n        let style = null\n        if (score === 'correct') {\n            type = 'small peg'\n            style = {backgroundColor: colorScheme['correct']}\n        } else if (score === 'correctColor') {\n            type = 'small peg'\n            style = {backgroundColor: colorScheme['correctColor']}\n        } else {\n            type = 'small hole'\n        }\n        return [type, style]\n    },\n\n    render: function() {\n        let [type, style] = this.getType(this.props.value)\n        return (<div className={type} style={style}>\n                </div>)\n    }\n})\n\nconst Scores = React.createClass({\n    convertScore: function(scoresObj) {\n        if (!scoresObj) {\n            return [null, null, null, null, null, null]\n        }\n        const correct = scoresObj.get('correct', 0)\n        const correctColor = scoresObj.get('correctColor', 0)\n        return ensureLength(\n            times(correct, constant('correct')).concat(times(correctColor, constant('correctColor'))),\n            PEG_IN_ROW)\n    },\n\n    render: function() {\n        const [score1, score2, score3, score4, score5, score6 ] = this.convertScore(this.props.score)\n\n        return (<div className=\"score\">\n                <div>\n                <ScorePeg value={score1} />\n                <ScorePeg value={score2} />\n                <ScorePeg value={score3} />\n                </div>\n                <div>\n                <ScorePeg value={score4} />\n                <ScorePeg value={score5} />\n                <ScorePeg value={score6} />\n                </div>\n                </div>)\n    }\n})\n\nconst Row = React.createClass({\n    allPegsSet: function(row) {\n        return row.get('pegs').every(peg => peg !== null)\n    },\n\n    scoresOrEvaluteButton: function(row, isGameOver, isEditable, isCurrentRow) {\n        if (!isGameOver && isCurrentRow) {\n            return (<div className='score'>\n                    <button className=\"checkButton\"\n                    disabled={!(isEditable && this.allPegsSet(row))}\n                    onClick={this.props.score}>Check</button>\n                    </div>)\n        }\n        return <Scores score={row.get('score')} />\n    },\n\n    render: function() {\n        const {row, isGameOver, isEditable, isCurrentRow, showColorChooser}  = this.props\n\n        return (<div className=\"row\">\n                <div className=\"holes\">\n                {row.get('pegs').map((color, idx) =>\n                                     <Peg key={idx} index={idx} isEditable={isEditable} color={color} showColorChooser={showColorChooser} />)}\n                                     </div>\n                                     {this.scoresOrEvaluteButton(row, isGameOver, isEditable, isCurrentRow)}\n                                     </div>)\n    }\n})\n\nconst ColorChooser = React.createClass({\n    getInitialState: function() {\n        return {\n            isShowing: false,\n            style: {\n                display: 'none'\n            }\n        }\n    },\n\n    show: function(targetEl) {\n        if (this.state.isShowing && targetEl === this.state.showingForEl) {\n            this.close()\n            return\n        }\n        let myTop, myLeft\n        const targetRect = targetEl.getBoundingClientRect()\n        myTop = window.scrollY + targetRect.top + targetRect.height / 2\n        myLeft = targetRect.right - targetRect.width / 2\n        this.setState({\n            showingForEl: targetEl,\n            isShowing: true,\n            style: {\n                display: 'block',\n                top: myTop,\n                left: myLeft\n            }})\n    },\n\n    close: function() {\n        this.setState({\n            style: {\n                display: 'none'\n            },\n            isShowing: false\n        })\n    },\n\n    colorClick: function(colIndex) {\n        this.props.changeColor(colIndex)\n        this.close()\n    },\n\n    render: function() {\n        const {changeColor} = this.props\n\n        const colorBlock = colIndex => {\n            return (<div className=\"color\"\n                    onClick={() => this.colorClick(colIndex)}\n                    style={{backgroundColor: colorScheme[colIndex]}}>\n                    </div>)\n        }\n\n        return (<div id=\"colorChooser\" style={this.state.style}>\n                <div>\n                    {colorBlock(0)}\n                    {colorBlock(1)}\n                    {colorBlock(2)}\n                    {colorBlock(3)}\n                    {colorBlock(4)}\n                </div>\n                <div>\n                    {colorBlock(5)}\n                    {colorBlock(6)}\n                    {colorBlock(7)}\n                    {colorBlock(8)}\n                    {colorBlock(9)}\n                </div>\n                </div>)\n    }\n})\n\nconst Board = React.createClass({\n\n    showColorChooser: function(pegIdx, pegEl) {\n        this.refs.colorChooser.show(pegEl)\n        this.pegIdx = pegIdx\n    },\n\n    render: function() {\n        const {game, dispatch} = this.props\n        const boardEditable = this.props.hasOwnProperty('editable') ? this.props.editable : true\n        const rows = game.get('rows')\n        const gameState = game.get('state')\n        if (!rows) {\n            return <div id=\"board\"></div>\n        }\n\n        const currentRowIdx = rows.findIndex(row => !row.get('score'))\n\n        const noop = () => {}\n\n        return (<div className=\"mainPanel\">\n                {rows.map((row, idx) =>\n                          <Row key={idx}\n                          isGameOver={isGameOver(gameState)}\n                          isEditable={boardEditable && !isGameOver(gameState) && currentRowIdx === idx}\n                          isCurrentRow={currentRowIdx === idx}\n                          row={row}\n                          showColorChooser={boardEditable ? this.showColorChooser : noop}\n                          score={() => boardEditable ? dispatch(scoreGuess(idx)) : noop} />)}\n\n                          <ColorChooser ref='colorChooser'\n                          changeColor={(newColor) => dispatch(changeColor(currentRowIdx, this.pegIdx, newColor))} />\n\n                          </div>)\n    }\n\n})\n\nfunction ensureLength(xs, requiredLength, fillValue=null) {\n    return xs.concat(times(constant(fillValue), requiredLength - xs.length))\n}\n\nexport default Board;\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/mastermind/components/board.jsx\n **/","import React from 'react'\n\nimport {STATES} from '../game'\n\nconst GameOverDialog = React.createClass({\n  render: function() {\n    const {gameState, newGame} = this.props\n    let buttonText = this.props.hasOwnProperty('buttonText') ? this.props.buttonText : 'Play another game'\n\n    const styles = {\n      msg: {\n        fontSize: 24,\n        marginBottom: 20\n      },\n      button: {\n        fontSize: 18,\n        padding: 12\n      }\n    }\n\n    return (<div id=\"dialog\">\n      <div>\n        <div style={styles.msg}>{gameState === STATES.WON ? 'You won!' : 'You lost!'}</div>\n        <button style={styles.button} onClick={newGame}>{buttonText}</button>\n      </div>\n    </div>)\n  }\n})\n\nexport default GameOverDialog\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/mastermind/components/game-over-dialog.jsx\n **/","import React from 'react'\nimport {connect} from 'react-redux'\nimport {merge} from 'lodash'\n\nimport Board from '../components/board'\nimport GameOverDialog from '../components/game-over-dialog'\nimport {isGameOver} from '../game'\n\nimport {replayGame, replayMoveToStart, replayPrev, replayNext, replayMoveToEnd, replayHideGameOverDialog} from '../actions'\n\nconst toolbarStyles = {\n      toolbar: {\n        border: '2px solid #f2f2f2',\n        backgroundColor: '#f2f2f2',\n        width: 310,\n        position: 'fixed',\n        bottom: 50,\n        textAlign: 'center',\n        padding: 5\n      },\n      button: {\n        height: 40,\n        padding: 2,\n        margin: 4\n      },\n      img: {\n        verticalAlign: 'middle',\n        height: 36\n      }\n  }\nconst ReplayAutoPlayToolBar = React.createClass({\n  render: function() {\n    const {stop, skip, speed, setSpeed, nextEventIn} = this.props\n\n    const styles = merge({}, toolbarStyles, {\n      speedUpButton: {\n        height: 40,\n        margin: 1,\n      },\n    })\n\n    function btnStyle(btnSpeed) {\n      if (speed === btnSpeed) {\n        return merge({}, styles.speedUpButton, {fontWeight: 'bold'})\n      } else {\n        return styles.speedUpButton\n      }\n    }\n\n    function formatMs(ms) {\n      let s = Math.floor(ms / 1000)\n      if (s > 60) {\n        return '>1m'\n      }\n      if (s === 0) {\n        s = '<0'\n      } else if (s < 10) {\n        s = ' ' + s\n      }\n      return s + 's'\n    }\n\n    let nextEventInFormatted = formatMs(nextEventIn)\n\n    return (<div id=\"replayToolbar\" style={styles.toolbar}>\n      <button style={styles.button} onClick={stop}>\n        <img style={styles.img} src=\"img/ic_stop_black_48dp.png\" alt=\"Stop\" title=\"Stop\" />\n      </button>\n        <span style={{paddingLeft: 12, fontFamily: 'Courier'}}>{nextEventInFormatted}</span>\n      <button style={styles.button} onClick={skip}>\n        <img style={styles.img} src=\"img/ic_skip_next_black_48dp.png\" alt=\"Skip\" title=\"Skip\" />\n      </button>\n      <span style={{paddingLeft: 12}}></span>\n      <button style={btnStyle(1)} onClick={() => setSpeed(1)}>1x</button>\n      <button style={btnStyle(2)} onClick={() => setSpeed(2)}>2x</button>\n      <button style={btnStyle(4)} onClick={() => setSpeed(4)}>4x</button>\n      <button style={btnStyle(8)} onClick={() => setSpeed(8)}>8x</button>\n    </div>)\n  }\n})\n\nconst ReplayManualToolBar = React.createClass({\n  render: function() {\n    const {play, start, next, prev, end} = this.props\n\n    const styles = toolbarStyles\n\n    return (<div id=\"replayToolbar\" style={styles.toolbar}>\n      <button style={styles.button} onClick={play}>\n        <img style={styles.img} src=\"img/ic_play_arrow_black_48dp.png\" alt=\"Autoplay\" title=\"Autoplay\" />\n      </button>\n      <span style={{paddingLeft: 12}}></span>\n      <button style={styles.button} onClick={start}>\n        <img style={styles.img} src=\"img/ic_fast_rewind_black_48dp.png\" alt=\"Skip to Start\" title=\"Skip to Start\" />\n      </button>\n      <button style={styles.button} onClick={prev}>\n        <img style={styles.img} src=\"img/ic_skip_previous_black_48dp.png\" alt=\"Previous\" title=\"Previous\" />\n      </button>\n      <button style={styles.button} onClick={next}>\n        <img style={styles.img} src=\"img/ic_skip_next_black_48dp.png\" alt=\"Next\" title=\"Next\" />\n      </button>\n      <button style={styles.button} onClick={end}>\n        <img style={styles.img} src=\"img/ic_fast_forward_black_48dp.png\" alt=\"Skip to the End\" title=\"Skip to the End\" />\n      </button>\n\n    </div>)\n  }\n})\n\nconst ReplayPage = React.createClass({\n  getInitialState: function() {\n    return {\n      manualControl: true,\n      nextEventIn: null,\n      speed: 1\n    }\n  },\n\n  componentDidMount: function() {\n    this.props.dispatch(replayGame(this.props.params.gameId))\n    this.props.dispatch(replayNext(this.props.params.gameId))\n  },\n\n  componentWillUnmount: function() {\n    this.unschedule()\n  },\n\n  switchToAutoplay: function() {\n      this.setState({manualControl: false})\n  },\n\n  switchToManualControl: function() {\n      this.setState({manualControl: true})\n  },\n\n  unschedule: function() {\n    if (this.timeoutHandler) {\n      clearTimeout(this.timeoutHandler)\n    }\n  },\n\n  setSpeed: function(newSpeed) {\n    this.setState({speed: newSpeed})\n  },\n\n  skip: function() {\n    this.unschedule()\n    this.scheduleNext(true)\n  },\n\n  stop: function() {\n    this.unschedule()\n    this.switchToManualControl()\n  },\n\n  play: function() {\n    const {dispatch, replay} = this.props\n    if (isGameOver(replay.getIn(['game', 'state']))) {\n      this.setState({speed: 1})\n      dispatch(replayMoveToStart())\n    }\n    this.switchToAutoplay()\n\n    setTimeout(() => this.scheduleNext(), 0)\n  },\n\n  scheduleNext: function(immediate = false) {\n    const {dispatch, replay} = this.props\n    let gameReplayed = replay.get('gameReplayed')\n    let position = replay.get('replayPosition')\n\n    let atEnd = (position, game) => (position + 1 === game.get('states').count())\n\n    if (atEnd(position, gameReplayed)) {\n      this.switchToManualControl()\n      return\n    }\n\n    let current = gameReplayed.getIn(['states', position])\n    let next = gameReplayed.getIn(['states', position + 1])\n    let delta =\n        new Date(next.get('at')).getTime() -\n        new Date(current.get('at')).getTime()\n\n    let nextEventIn = immediate ? 0 : (delta / this.state.speed)\n    this.setState({nextEventIn})\n\n    this.timeoutHandler = setTimeout(() => {\n      dispatch(replayNext())\n      this.scheduleNext()\n    }, nextEventIn)\n},\n\n\n  render: function() {\n    const {dispatch, replay} = this.props\n    const gameReplayed = replay.get('gameReplayed')\n    const showGameOverDialog = replay.get('showGameOverDialog', true)\n    if (!gameReplayed) {\n      return (<div style={{textAlign: 'center'}} className=\"mainPanel\">\n          <span>No such game</span>\n      </div>)\n    }\n    const name = gameReplayed.get('name')\n    const at = new Date(gameReplayed.get('states').first().get('at')).toLocaleString()\n    const game = replay.get('game')\n    const gameState = game.get('state')\n\n    return (<div className=\"mainPanel\">\n      <div style={{textAlign: 'center'}}>\n        Game played by <br />\n        <strong>{name}</strong>\n       <br /> at <br />\n       <em>{at}</em>\n      </div>\n\n      {this.state.manualControl ?\n        <ReplayManualToolBar\n          play={this.play}\n          start={() => dispatch(replayMoveToStart())}\n          prev={() => dispatch(replayPrev())}\n          next={() => dispatch(replayNext())}\n          end={() => dispatch(replayMoveToEnd())} />\n        :\n        <ReplayAutoPlayToolBar\n          skip={this.skip}\n          stop={this.stop}\n          speed={this.state.speed}\n          setSpeed={this.setSpeed}\n          nextEventIn={this.state.nextEventIn}/>}\n\n      <Board game={game} editable={false}  />\n      {isGameOver(gameState) && showGameOverDialog ?\n          <GameOverDialog\n              buttonText=\"OK\"\n              gameState={gameState}\n              newGame={() => dispatch(replayHideGameOverDialog())}/>\n          : null}\n    </div>)\n  }\n})\n\nfunction mapStateToProps(state) {\n  return {\n    games: state.mastermind.game.get('replayableGames'),\n    replay: state.mastermind.replay\n  }\n}\n\nconst ReplayPageContainer = connect(mapStateToProps)(ReplayPage)\n\nexport default ReplayPageContainer\nmodule.exports = ReplayPageContainer\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/mastermind/pages/replay.jsx\n **/"],"sourceRoot":""}