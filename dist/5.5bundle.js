webpackJsonp([5,11],{166:function(e,t,o){(function(e){!function(){var t=o(7),r=o(5),a=o(2),n=o(1);e.makeHot=e.hot.data?e.hot.data.makeHot:t(function(){return r.getRootInstances(a)},n)}();try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var o=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return e.concat((0,s.times)((0,s.constant)(o),t-e.length))}var a=function(){function e(e,t){var o=[],r=!0,a=!1,n=void 0;try{for(var l,s=e[Symbol.iterator]();!(r=(l=s.next()).done)&&(o.push(l.value),!t||o.length!==t);r=!0);}catch(i){a=!0,n=i}finally{try{!r&&s["return"]&&s["return"]()}finally{if(a)throw n}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),l=e(n),s=o(96),i=o(51),c=o(52),u={0:"red",1:"cyan",2:"green",3:"orange",4:"magenta",5:"blue",correct:"black",correctColor:"red"},d=l["default"].createClass({displayName:"Peg",onClick:function(e){e.stopPropagation();var t=e.target,o=t.getBoundingClientRect(),r=(o.top,o.left,o.width,o.height,this.props),a=(r.index,r.color,r.isEditable);r.changeColor,a&&this.props.showColorChooser(this.props.index,t)},render:function(){var e=this.props,t=e.color,o=e.isEditable,r="hole",a={};return null!==t&&(a={backgroundColor:u[t],borderColor:u[t]},r="peg"),o&&(a.cursor="pointer"),l["default"].createElement("div",{className:r,style:a,onClick:this.onClick})}}),f=l["default"].createClass({displayName:"ScorePeg",getType:function(e){var t=void 0,o=null;return"correct"===e?(t="small peg",o={backgroundColor:u.correct}):"correctColor"===e?(t="small peg",o={backgroundColor:u.correctColor}):t="small hole",[t,o]},render:function(){var e=this.getType(this.props.value),t=a(e,2),o=t[0],r=t[1];return l["default"].createElement("div",{className:o,style:r})}}),h=l["default"].createClass({displayName:"Scores",convertScore:function(e){if(!e)return[null,null,null,null];var t=e.get("correct",0),o=e.get("correctColor",0);return r((0,s.times)(t,(0,s.constant)("correct")).concat((0,s.times)(o,(0,s.constant)("correctColor"))),4)},render:function(){var e=this.convertScore(this.props.score),t=a(e,4),o=t[0],r=t[1],n=t[2],s=t[3];return l["default"].createElement("div",{className:"score"},l["default"].createElement("div",null,l["default"].createElement(f,{value:o}),l["default"].createElement(f,{value:r})),l["default"].createElement("div",null,l["default"].createElement(f,{value:n}),l["default"].createElement(f,{value:s})))}}),m=l["default"].createClass({displayName:"Row",allPegsSet:function(e){return e.get("pegs").every(function(e){return null!==e})},scoresOrEvaluteButton:function(e,t,o,r){return!t&&r?l["default"].createElement("div",{className:"score"},l["default"].createElement("button",{className:"checkButton",disabled:!(o&&this.allPegsSet(e)),onClick:this.props.score},"Check")):l["default"].createElement(h,{score:e.get("score")})},render:function(){var e=this.props,t=e.row,o=e.isGameOver,r=e.isEditable,a=e.isCurrentRow,n=e.showColorChooser;return l["default"].createElement("div",{className:"row"},l["default"].createElement("div",{className:"holes"},t.get("pegs").map(function(e,t){return l["default"].createElement(d,{key:t,index:t,isEditable:r,color:e,showColorChooser:n})})),this.scoresOrEvaluteButton(t,o,r,a))}}),p=l["default"].createClass({displayName:"ColorChooser",getInitialState:function(){return{isShowing:!1,style:{display:"none"}}},show:function(e){if(this.state.isShowing&&e===this.state.showingForEl)return void this.close();var t=void 0,o=void 0,r=e.getBoundingClientRect();t=window.scrollY+r.top+r.height/2,o=r.right-r.width/2,this.setState({showingForEl:e,isShowing:!0,style:{display:"block",top:t,left:o}})},close:function(){this.setState({style:{display:"none"},isShowing:!1})},colorClick:function(e){this.props.changeColor(e),this.close()},render:function(){var e=this,t=(this.props.changeColor,function(t){return l["default"].createElement("div",{className:"color",onClick:function(){return e.colorClick(t)},style:{backgroundColor:u[t]}})});return l["default"].createElement("div",{id:"colorChooser",style:this.state.style},l["default"].createElement("div",null,t(0),t(1),t(2)),l["default"].createElement("div",null,t(3),t(4),t(5)))}}),g=l["default"].createClass({displayName:"Board",showColorChooser:function(e,t){this.refs.colorChooser.show(t),this.pegIdx=e},render:function(){var e=this,t=this.props,o=t.game,r=t.dispatch,a=this.props.hasOwnProperty("editable")?this.props.editable:!0,n=o.get("rows"),s=o.get("state");if(!n)return l["default"].createElement("div",{id:"board"});var u=n.findIndex(function(e){return!e.get("score")}),d=function(){};return l["default"].createElement("div",{className:"mainPanel"},n.map(function(t,o){return l["default"].createElement(m,{key:o,isGameOver:(0,c.isGameOver)(s),isEditable:a&&!(0,c.isGameOver)(s)&&u===o,isCurrentRow:u===o,row:t,showColorChooser:a?e.showColorChooser:d,score:function(){return a?r((0,i.scoreGuess)(o)):d}})}),l["default"].createElement(p,{ref:"colorChooser",changeColor:function(t){return r((0,i.changeColor)(u,e.pegIdx,t))}}))}});t["default"]=g}).call(this)}finally{!function(){var t=e.hot.data&&e.hot.data.foundReactClasses||!1;if(e.exports&&e.makeHot){var r=o(6);r(e,o(1))&&(t=!0);var a=t;a&&e.hot.accept(function(e){e&&console.error("Cannot not apply hot update to board.jsx: "+e.message)})}e.hot.dispose(function(o){o.makeHot=e.makeHot,o.foundReactClasses=t})}()}}).call(t,o(4)(e))},167:function(e,t,o){(function(e){!function(){var t=o(7),r=o(5),a=o(2),n=o(1);e.makeHot=e.hot.data?e.hot.data.makeHot:t(function(){return r.getRootInstances(a)},n)}();try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),a=e(r),n=o(52),l=a["default"].createClass({displayName:"GameOverDialog",render:function(){var e=this.props,t=e.gameState,o=e.newGame,r=this.props.hasOwnProperty("buttonText")?this.props.buttonText:"Play another game",l={msg:{fontSize:24,marginBottom:20},button:{fontSize:18,padding:12}};return a["default"].createElement("div",{id:"dialog"},a["default"].createElement("div",null,a["default"].createElement("div",{style:l.msg},t===n.STATES.WON?"You won!":"You lost!"),a["default"].createElement("button",{style:l.button,onClick:o},r)))}});t["default"]=l}).call(this)}finally{!function(){var t=e.hot.data&&e.hot.data.foundReactClasses||!1;if(e.exports&&e.makeHot){var r=o(6);r(e,o(1))&&(t=!0);var a=t;a&&e.hot.accept(function(e){e&&console.error("Cannot not apply hot update to game-over-dialog.jsx: "+e.message)})}e.hot.dispose(function(o){o.makeHot=e.makeHot,o.foundReactClasses=t})}()}}).call(t,o(4)(e))},559:function(e,t,o){(function(e){!function(){var t=o(7),r=o(5),a=o(2),n=o(1);e.makeHot=e.hot.data?e.hot.data.makeHot:t(function(){return r.getRootInstances(a)},n)}();try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){return{game:e.mastermind.game}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),l=r(n),s=o(29),i=o(166),c=r(i),u=o(167),d=r(u),f=o(51),h=o(52),m=l["default"].createClass({displayName:"PlayGamePage",componentWillMount:function(){},render:function(){var e=this.props,t=e.dispatch,o=e.game,r=o.get("state");return l["default"].createElement("div",null,l["default"].createElement(c["default"],{game:o,dispatch:t}),(0,h.isGameOver)(r)?l["default"].createElement(d["default"],{gameState:r,newGame:function(){return t((0,f.newGame)())}}):null)}}),p=(0,s.connect)(a)(m);t["default"]=p,e.exports=p}).call(this)}finally{!function(){var t=e.hot.data&&e.hot.data.foundReactClasses||!1;if(e.exports&&e.makeHot){var r=o(6);r(e,o(1))&&(t=!0);var a=t;a&&e.hot.accept(function(e){e&&console.error("Cannot not apply hot update to play-game.jsx: "+e.message)})}e.hot.dispose(function(o){o.makeHot=e.makeHot,o.foundReactClasses=t})}()}}).call(t,o(4)(e))}});
//# sourceMappingURL=5.5bundle.js.map